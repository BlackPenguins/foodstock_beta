diff --git a/admin_x25/admin_checklist_x25.php b/admin_x25/admin_checklist_x25.php
index d485655..12b83a4 100644
--- a/admin_x25/admin_checklist_x25.php
+++ b/admin_x25/admin_checklist_x25.php
@@ -28,7 +28,7 @@
             "Tops" => "#167cb7"
         );
 
-        echo "<div class='rounded_header'><span class='title'>$title</span></div>";
+        echo "<div class='page_header'><span class='title'>$title</span></div>";
 
         if( $checklistType == "RestockTrigger" ) {
             echo "<span id='shopping_button' class='nav_buttons nav_buttons_admin'>Add Shopping Guide</span>";
diff --git a/admin_x25/admin_download_csv_x25.php b/admin_x25/admin_download_csv_x25.php
index d78d3c7..1d031fc 100644
--- a/admin_x25/admin_download_csv_x25.php
+++ b/admin_x25/admin_download_csv_x25.php
@@ -1,8 +1,7 @@
 <?php
 include(__DIR__ . "/../appendix.php" );
 
-$db = new SQLite3( getDB() );
-if (!$db) die ($error);
+$db = getDB();
 
 include_once(QUANTITY_FUNCTIONS_PATH);
 
@@ -41,4 +40,6 @@ foreach( $csvLines as $csvLine ) {
     fputcsv($output, $csvLine);
 }
 
+fputcsv($output, array('MUG AMOUNT') );
+
 fclose( $output );
\ No newline at end of file
diff --git a/admin_x25/admin_inventory_x25.php b/admin_x25/admin_inventory_x25.php
index 5fd9263..173aeb9 100644
--- a/admin_x25/admin_inventory_x25.php
+++ b/admin_x25/admin_inventory_x25.php
@@ -40,7 +40,7 @@
     
     <?php 
     echo "<span class='admin_box'>";
-        echo "<div class='rounded_header'><span class='title'>Inventory & Purchases</span></div>";
+        echo "<div class='page_header'><span class='title'>Inventory & Purchases</span></div>";
 
 
         echo "<div class='center_piece'>";
diff --git a/admin_x25/admin_items_in_stock_x25.php b/admin_x25/admin_items_in_stock_x25.php
index 5e6a9b3..0ffa9b1 100644
--- a/admin_x25/admin_items_in_stock_x25.php
+++ b/admin_x25/admin_items_in_stock_x25.php
@@ -8,7 +8,7 @@
     include_once(ACTION_FUNCTIONS_PATH);
     
     echo "<span class='admin_box'>";
-        echo "<div class='rounded_header'><span class='title'>Item In Stock</span></div>";
+        echo "<div class='page_header'><span class='title'>Item In Stock</span></div>";
         
         echo "<div class='center_piece'>";
         echo "<span class='hidden_mobile_section'>Black = Backstock.&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;Red Text = Negative Profit.</span>";
diff --git a/admin_x25/admin_items_x25.php b/admin_x25/admin_items_x25.php
index e661af2..4281c8e 100644
--- a/admin_x25/admin_items_x25.php
+++ b/admin_x25/admin_items_x25.php
@@ -7,7 +7,7 @@
     include( HEADER_PATH );
     
     echo "<span class='admin_box'>";
-        echo "<div class='rounded_header'><span class='title'>Item Information</span></div>";
+        echo "<div class='page_header'><span class='title'>Item Information</span></div>";
         
         echo "<div class='center_piece'>";
         echo "<div style='margin-right: 20px;'><a href = 'admin_download_csv_x25.php'>Download Inventory Spreadsheet</a></div>";
diff --git a/admin_x25/admin_migration_x25.php b/admin_x25/admin_migration_x25.php
index fb41803..1f91643 100644
--- a/admin_x25/admin_migration_x25.php
+++ b/admin_x25/admin_migration_x25.php
@@ -22,8 +22,7 @@
     include(UI_FUNCTIONS_PATH);
     include(QUANTITY_FUNCTIONS_PATH);
 
-    $db = new SQLite3( getDB() );
-    if (!$db) die ($error);
+    $db = getDB();
 
     $testMigration = false;
 
@@ -82,7 +81,7 @@
         }
 
     } else {
-        echo "<div style='margin: 0 auto;' class='fancy'>";
+        echo "<div style='margin: 0 auto;' class='inline_form'>";
         echo "<form style='width:400px; margin: 0 auto;' id='add_item_form' enctype='multipart/form-data' action='" . ADMIN_MIGRATION_LINK . "' method='POST'>";
 
         echo "<label for='VersionNumber'>Version</label>";
diff --git a/admin_x25/admin_payments_x25.php b/admin_x25/admin_payments_x25.php
index 13e8603..51dffbe 100644
--- a/admin_x25/admin_payments_x25.php
+++ b/admin_x25/admin_payments_x25.php
@@ -47,7 +47,7 @@
     echo "<span class='admin_box'>";
 
     echo "<span class='hidden_mobile_section' id='users'>";
-        echo "<div class='rounded_header'><span class='title'>User Payments</span></div>";
+        echo "<div class='page_header'><span class='title'>User Payments</span></div>";
         echo "<table style='font-size:12px; border-collapse:collapse; width:100%; margin-left: 10px;'>";
         echo "<thead><tr class='table_header'>";
         echo "<th style='padding:5px; border:1px #000 solid;' align='left'>Name</th>";
@@ -190,6 +190,10 @@
         $currentMonthSnackTotal = $totalArray['SnackTotal'];
         $currentMonthTotal = $currentMonthSodaTotal + $currentMonthSnackTotal;
 
+        $currentMonthSodaCreditTotal = $totalArray['SodaCreditTotal'];
+        $currentMonthSnackCreditTotal = $totalArray['SnackCreditTotal'];
+        $currentMonthCreditTotal = $currentMonthSodaCreditTotal + $currentMonthSnackCreditTotal;
+
         $sodaTotalPaid = $totalArray['SodaPaid'];
         $snackTotalPaid = $totalArray['SnackPaid'];
 
@@ -198,22 +202,36 @@
         $totalUnpaid = $sodaTotalUnpaid + $snackTotalUnpaid;
         
         $totalBalanceColor = "";
-        
+        $monthHadBalance = "";
+        $creditAmountDisplay = "";
+
         if( $totalUnpaid != 0.0 ) {
             $totalBalanceColor = "background-color:#fdff7a;";
+        } else if( $currentMonthTotal > 0 ) {
+            $monthHadBalance = "color: #edff58";
+        }
+
+        if( $currentMonthCreditTotal > 0 ) {
+            $creditsColor = "#ffffff";
+            if( $totalUnpaid != 0.0 ) {
+                $creditsColor = "#000000";
+            }
+            $creditAmountDisplay = "<div style='padding:5px; font-size: 0.9em; text-align: center; color: $creditsColor'>"
+                . "Total Credits:<br>". getPriceDisplayWithDollars( $currentMonthCreditTotal )
+                . "</div>";
         }
 
         $onclick = "openPaymentModal(\"$userFullName\", \"$userID\", \"$monthLabel\", \"None\", " . getPriceDisplayWithDecimals( $sodaTotalUnpaid ) . ", " . getPriceDisplayWithDecimals( $snackTotalUnpaid ) . ", 0, 0);";
-        
+
         return "<td style='padding:5px; $totalBalanceColor border:1px #000 solid; cursor:pointer;'>"
                 . "<div onclick='$onclick' style='width:100%'>"
                 . "<div style='padding:5px; border: 1px dashed #000; font-size: 1.1em; margin: 0px 20px; font-weight: bold; text-align: center;'>"
                 . "Owed: ". getPriceDisplayWithDollars( $totalUnpaid )
                 . "</div>"
 
-                . "<div style='padding:5px; margin-top: 30px; font-size: 0.9em; text-align: center;'>"
-                . "Total Amount: ". getPriceDisplayWithDollars( $currentMonthTotal )
-                . "</div>"
+                . "<div style='padding:5px; margin-top: 30px; font-size: 0.9em; text-align: center; $monthHadBalance'>"
+                . "Total Amount:<br>". getPriceDisplayWithDollars( $currentMonthTotal )
+                . "</div>" . $creditAmountDisplay
                 . "</td>";
     }
 ?>
diff --git a/admin_x25/admin_restock_x25.php b/admin_x25/admin_restock_x25.php
index a0d796c..e9a62e0 100644
--- a/admin_x25/admin_restock_x25.php
+++ b/admin_x25/admin_restock_x25.php
@@ -26,7 +26,7 @@
 
 <?php
     echo "<span class='admin_box'>";
-        echo "<div class='rounded_header'><span class='title'>Restocks</span></div>";
+        echo "<div class='page_header'><span class='title'>Restocks</span></div>";
 
 
         echo "<div class='center_piece'>";
diff --git a/admin_x25/admin_shopping_guide_x25.php b/admin_x25/admin_shopping_guide_x25.php
index dae7bb9..4580673 100644
--- a/admin_x25/admin_shopping_guide_x25.php
+++ b/admin_x25/admin_shopping_guide_x25.php
@@ -79,7 +79,7 @@
             $rowQuantity = $resultsQuantity->fetchArray();
             
             if( $rowQuantity !== false ) {
-                $STORE_PRICES_TABLE .= "<div title='Quantity in Stock' class='shopping_guide_container' style='font-size:0.9em; padding:10px; margin:10px;'>";
+                $STORE_PRICES_TABLE .= "<div title='Quantity in Stock' class='shopping_container'>";
                 $STORE_PRICES_TABLE .= "<b>Store Prices</b>";
             
                 $STORE_PRICES_TABLE .= "<table class='bordered_table' style=font-size:0.7em;'>";
@@ -155,10 +155,10 @@
             }
             
             if($totalQuantity == 0) {
-                echo "<div class='no_item circle' style='padding:10px; color:#FF3838'><img width='15px' src='" . IMAGES_LINK . "none.png' title='Item sold out!'/>&nbsp;SOLD OUT</div>";
+                echo "<div class='shopping_quantity_sold_out_box circle' style='padding:10px; color:#FF3838'><img width='15px' src='" . IMAGES_LINK . "none.png' title='Item sold out!'/>&nbsp;SOLD OUT</div>";
             } else {
                 $unitNameFinal = $totalQuantity > 1 ? $unitNamePlural : $unitName;
-                echo "<div title='Quantity in Stock' class='cold_item' style='padding:10px; margin:5px 0px;'>$totalQuantity $unitNameFinal</div>";
+                echo "<div title='Quantity in Stock' class='shopping_quantity_box' style='padding:10px; margin:5px 0px;'>$totalQuantity $unitNameFinal</div>";
             }
            
             
@@ -171,7 +171,7 @@
             
             if( $rowQuantity !== false ) {
                 
-                echo "<div title='Quantity in Stock' class='shopping_guide_container' style='font-size:0.8em; padding:10px;'>";
+                echo "<div title='Quantity in Stock' class='shopping_container'>";
                 echo "<b>Best Profits</b>";
                 
                 echo "<table class='bordered_table' style=font-size:0.7em;'>";
diff --git a/admin_x25/admin_x25.php b/admin_x25/admin_x25.php
index d52f4a5..32e15dd 100644
--- a/admin_x25/admin_x25.php
+++ b/admin_x25/admin_x25.php
@@ -105,7 +105,7 @@
         echo "</div>";
 
         echo "<div class='session_container'>";
-        echo "<div class='rounded_header'><span id='Sessions' class='title'>SESSIONS</span></div>";
+        echo "<div class='page_header'><span id='Sessions' class='title'>SESSIONS</span></div>";
 
         $sessionLocation = session_save_path();
 
@@ -178,7 +178,7 @@
     echo "</span>";
     
     function openTable( $tableLabel ) {
-        echo "<div class='rounded_header'><span id='$tableLabel' class='title'>$tableLabel</span></div>";
+        echo "<div class='page_header'><span id='$tableLabel' class='title'>$tableLabel</span></div>";
         
         echo "<div class='center_piece'>";
         echo "<div class='rounded_table'>";
diff --git a/admin_x25/build_admin_forms.php b/admin_x25/build_admin_forms.php
index 0940f59..f28f3f1 100644
--- a/admin_x25/build_admin_forms.php
+++ b/admin_x25/build_admin_forms.php
@@ -443,7 +443,7 @@
         buildRefillModal( $db, $itemType, $hideForms, $redirectURL );
 
         if( IsAdminLoggedIn() ) {
-            buildDefectiveModal( $itemType, $item_options_no_discontinued, $hideForms );
+            buildDefectiveModal( $itemType, $item_options, $hideForms );
         }
     }
 
@@ -930,7 +930,7 @@
 
         $statement = $db->prepare("SELECT Name," . getQuantityQuery() . ",ID FROM Item i " .
             "WHERE Hidden != 1 AND Type = :itemType AND TotalAmount > 0 $andVendorIDClause " .
-            "ORDER BY ShelfAmount DESC, Name asc, Retired");
+            "ORDER BY Name asc, Retired");
         $statement->bindValue( ":itemType", $itemType );
         $results = $statement->execute();
 
diff --git a/appendix.php b/appendix.php
index 4028138..1a8e784 100644
--- a/appendix.php
+++ b/appendix.php
@@ -1,12 +1,24 @@
 <?php
     if(!function_exists('getDB')) {
+
+        /**
+         * @return SQLite3 $db
+         */
         function getDB() {
             if (isTestServer()) {
-                // TODO MTM: Make sure automated testing only affect the unit_testing db
-                return __DIR__ . getSlash() . "test_db" . getSlash() . "item.db";
+                $dbPath = __DIR__ . getSlash() . "test_db" . getSlash() . "item.db";
             } else {
-                return __DIR__ . getSlash() . "db" . getSlash() . "item.db";
+                $dbPath = __DIR__ . getSlash() . "db" . getSlash() . "item.db";
             }
+
+            $db = new SQLite3( $dbPath );
+
+            // Wait 15 seconds before showing database locked error
+            $db->busyTimeout( 15000 );
+
+            if (!$db) die ( "DB failed to load: " . $db->lastErrorMsg() );
+
+            return $db;
         }
     }
 
@@ -113,6 +125,10 @@
         define( "ACTION_FUNCTIONS_PATH", __DIR__ . $slash . "functions" . $slash . "action_functions.php" );
     }
 
+    if( !defined("HOLIDAY_FUNCTIONS_PATH")) {
+        define( "HOLIDAY_FUNCTIONS_PATH", __DIR__ . $slash . "functions" . $slash . "holiday_functions.php" );
+    }
+
     if( !defined("ITEM_OBJ")) {
         define( "ITEM_OBJ", __DIR__ . $slash . "common" . $slash . "Item.php" );
     }
@@ -173,6 +189,10 @@
         define( "HANDLE_FORMS_PATH", __DIR__ .$slash . "common" . $slash . "handle_forms.php" );
     }
 
+    if( !defined("HANDLE_AJAX_PATH")) {
+        define( "HANDLE_AJAX_PATH", __DIR__ .$slash . "common" . $slash . "handle_ajax.php" );
+    }
+
     if( !defined("BUILD_ADMIN_FORMS_PATH")) {
         define( "BUILD_ADMIN_FORMS_PATH", __DIR__ . $slash . "admin_x25" . $slash . "build_admin_forms.php" );
     }
diff --git a/common/MonthlyLayout.php b/common/MonthlyLayout.php
index a544180..2727ab0 100644
--- a/common/MonthlyLayout.php
+++ b/common/MonthlyLayout.php
@@ -46,7 +46,7 @@ class MonthlyLayout {
 
         echo "<div id= 'container'>";
 
-        echo "<div style='height:55px; position: relative;' class='rounded_header'>";
+        echo "<div style='height:55px; position: relative;' class='page_header'>";
 
         echo "<div style='position:absolute; top: 0; left: 0; padding: 5px 20px;' class='title'>";
         echo $this->getHeader( $name );
@@ -258,8 +258,10 @@ class MonthlyLayout {
                 if ( IsAdminLoggedIn() || $this->isVendor() ) {
                     $retailPrice = $purchaseHistoryRow->retailCost;
                     $profit = $cost - $retailPrice;
+
+                    $profitDisplay = $retailPrice == 0 ? "N/A" : getPriceDisplayWithDollars($profit);
                     echo "<td>" . getPriceDisplayWithDollars($retailPrice) . "</td>";
-                    echo "<td>" . getPriceDisplayWithDollars($profit) . "</td>";
+                    echo "<td>$profitDisplay</td>";
                 }
                 echo "</tr>";
             }
@@ -389,7 +391,7 @@ class MonthlyLayout {
             }
 
             if( $totalOwedCommission != 0 ) {
-                $owedLabel .= "<br>Unpaid Commission: " . getPriceDisplayWithDollars( $totalOwedCommission );
+                $owedLabel .= "<br>Unpaid Commission: " . getPriceDisplayWithDollars( round( $totalOwedCommission ) );
             }
         }
 
@@ -439,8 +441,8 @@ class MonthlyLayout {
         $snackCommissionLeft = 0;
 
         if( $this->isVendor() ) {
-            $totalSodaCommission = $currentMonthSodaTotal * COMMISSION_PERCENTAGE;
-            $totalSnackCommission = $currentMonthSnackTotal * COMMISSION_PERCENTAGE;
+            $totalSodaCommission = round( $currentMonthSodaTotal * COMMISSION_PERCENTAGE );
+            $totalSnackCommission = round( $currentMonthSnackTotal * COMMISSION_PERCENTAGE );
 
             $sodaVendorLeft = $currentMonthSodaTotal -  $totalPaidSoda - $totalSodaCommission;
             $snackVendorLeft = $currentMonthSnackTotal - $totalPaidSnack - $totalSnackCommission;
@@ -452,7 +454,7 @@ class MonthlyLayout {
 //             echo "Total [$currentMonthSnackTotal] Payment [$totalPaidSnack] Commission of Total [$totalSnackCommission] = Left [$snackVendorLeft]<br>";
 
             echo "<td $selectedCellStyle>";
-            echo getPriceDisplayWithDollars($commissionForMatt);
+            echo getPriceDisplayWithDollars( round( $commissionForMatt ) );
 
             if( $currentMonthLink == $selectedMonthLink) {
                 echo "<hr>";
diff --git a/common/PurchaseHistoryLayout.php b/common/PurchaseHistoryLayout.php
index 0407445..d84d600 100644
--- a/common/PurchaseHistoryLayout.php
+++ b/common/PurchaseHistoryLayout.php
@@ -59,7 +59,7 @@ class PurchaseHistoryLayout extends MonthlyLayout {
 
         echo  "<div style='position:absolute; top: 0; right: 0;' class='total_details_box'><b>Total Soda Spent:</b> ". getPriceDisplayWithDollars( $totalSodaBalance ) . "&nbsp;&nbsp;|&nbsp;&nbsp;<b>Total Soda Savings:</b> " . getPriceDisplayWithDollars( $totalSodaSavings ) . "</div>";
         echo "<div style='position:absolute; bottom: 0; right: 0;' class='total_details_box'><b>Total Snack Spent:</b> ". getPriceDisplayWithDollars( $totalSnackBalance ) . "&nbsp;&nbsp;|&nbsp;&nbsp;<b>Total Snack Savings:</b> " . getPriceDisplayWithDollars( $totalSnackSavings ) . "</div>";
-
+        printPurchaseHistorySubtitle();
     }
 
     function DisplayPaymentMethods() {
diff --git a/common/handle_ajax.php b/common/handle_ajax.php
index 539391d..b92e6be 100644
--- a/common/handle_ajax.php
+++ b/common/handle_ajax.php
@@ -6,14 +6,14 @@
     include_once(ACTION_FUNCTIONS_PATH);
     include(SLACK_FUNCTIONS_PATH);
     include_once(LOG_FUNCTIONS_PATH);
+    include_once(HOLIDAY_FUNCTIONS_PATH);
 
     session_start();
     date_default_timezone_set('America/New_York');
 
     $type = $_POST['type'];
         
-    $db = new SQLite3( getDB() );
-    if (!$db) die ($error);
+    $db = getDB();
 
     if($type == "CardArea" ) 
     {
@@ -21,368 +21,9 @@
         $className = $_POST['className'];
         $location = $_POST['location'];
         $itemSearch = $_POST['itemSearch'];
-        
-        $nameQuery = "";
-
-        if( $itemSearch != "" ) {
-            $nameQuery = " AND ( Name Like :nameSearch OR Alias Like :aliasSearch)";
-        }
-        
-        $cardQuery = "SELECT ID, Name, Date, TotalCans, " . getQuantityQuery() .
-        ",Price, ItemIncome, ItemExpenses, ItemProfit, DateModified, " .
-        "Retired, ImageURL, ThumbURL, UnitName, UnitNamePlural, DiscountPrice, CurrentFlavor, RefillTrigger, OutOfStockReporter, OutOfStockDate, u.FirstName " .
-        "FROM Item i " .
-        "LEFT JOIN User u ON i.VendorID = u.UserID " .
-        "WHERE Type = :itemType " .$nameQuery . " AND Hidden != 1 " .
-        "ORDER BY Retired, BackstockAmount DESC, ShelfAmount DESC";
 
-        
-        if( IsLoggedIn() ) {
-            // Sort by user preference
-            // This sort pretty much breaks them into 3 groups (bought ones at #1, discontinued at #3, the rest at #2) and sorts those 3,
-            // then inside those groups it sorts by frequency, then shelf, then backstock
-            $cardQuery = "SELECT ID, VendorID, Name, Date, TotalCans, " . getQuantityQuery() .
-            ",Price, ItemIncome, ItemExpenses, ItemProfit, DateModified, " .
-            "Retired, ImageURL, ThumbURL, UnitName, UnitNamePlural, (SELECT count(*) FROM Purchase_History p WHERE p.UserID = " . $_SESSION["UserID"] .
-            " AND p.ItemID = i.ID AND p.Cancelled IS NULL) as Frequency, DiscountPrice, CurrentFlavor, RefillTrigger, OutOfStockReporter, OutOfStockDate, u.FirstName " .
-            "FROM Item i " .
-            "LEFT JOIN User u ON i.VendorID = u.UserID " .
-            "WHERE Type = :itemType " .$nameQuery . " AND Hidden != 1 " .
-            "ORDER BY CASE WHEN Retired = 1 AND ShelfAmount = 0 THEN '3' WHEN Frequency > 0 AND Retired = 0 THEN '1'  ELSE '2' END ASC, Frequency DESC, ShelfAmount DESC, BackstockAmount DESC";
-        }
-        
-        $statement = $db->prepare( $cardQuery );
-        $statement->bindValue( ":nameSearch", "%" .$itemSearch . "%" );
-        $statement->bindValue( ":aliasSearch", "%" .$itemSearch . "%" );
-        $statement->bindValue( ":itemType", $itemType );
-        $results = $statement->execute();
-
-        //---------------------------------------
-        // BUILD ITEM CARDS
-        //---------------------------------------
-        $columnNumber = 1;
-        while ($row = $results->fetchArray()) {
-            $item_id = $row['ID'];
-            $retired_item = $row['Retired'];
-
-            $shelfAmount = $row['ShelfAmount'];
-            $backstockAmount = $row['BackstockAmount'];
-
-            $hideDiscontinued = true;
-
-            if( isset( $_SESSION['ShowDiscontinued'] ) && $_SESSION['ShowDiscontinued'] != 0 ) {
-                $hideDiscontinued = false;
-            }
-
-            if( $retired_item == 1 && $hideDiscontinued && $shelfAmount == 0 ) {
-                continue;
-            }
-
-            $outOfStock = $row['RefillTrigger'];
-            $outOfStockReporter = $row['OutOfStockReporter'];
-
-            $item_name = $row['Name'];
-            $supplierName = $row['FirstName'];
-
-            $price = $row['Price'];
-            $originalPrice = $price;
-            $discountPrice = $row['DiscountPrice'];
-            $imageURL = $row['ImageURL'];
-            $hasDiscount = false;
-            
-            if( IsLoggedIn() && $discountPrice != "" ) {
-                $price = $discountPrice;
-                $hasDiscount = true;
-            }
-            
-            $cardClass = "soda";
-            
-            if( $itemType == "Snack" ) {
-                $cardClass = "snack";
-            }
-            
-            $price_color = "#FFFFFF";
-            $price_background_color = "#025F00";
-            
-            // On sale - YELLOW
-            if($price < 50) {
-                $price_color = "#000000";
-                $price_background_color = "#FFD500";
-                // Expensive - RED
-            } else if( $price > 100) {
-                $price_color = "#FFFFFF";
-                $price_background_color = "#5f0000";
-            }
-
-            $priceDisplay = "";
-            
-            if( IsLoggedIn() && $hasDiscount == true ) {
-                $priceDisplay = getPriceDisplayWithSymbol ( $discountPrice );
-            } else {
-                $priceDisplay = getPriceDisplayWithSymbol( $price );
-            }
-            
-            $unitName = "item";
-            $unitNamePlural = "items";
-            
-            if( $row['UnitName'] != "" ) {
-                $unitName = $row['UnitName'];
-            }
-            
-            if( $row['UnitNamePlural'] != "" ) {
-                $unitNamePlural = $row['UnitNamePlural'];
-            }
-            
-            $unitNameFinal = $shelfAmount > 1 ? $unitNamePlural : $unitName;
-            
-            $amountLeft = "N/A";
-            $amountClass = "";
-            $statusClass = "";
-            $thumbnailClass = $cardClass;
-            $buttonClass = $cardClass;
-            $lightRopeClass = "";
-            
-            if( $retired_item == 1) {
-                if($shelfAmount == 0) {
-                    $amountLeft = "Discontinued";
-                    $amountClass = "discontinued";
-                    $statusClass = "post-module-discontinued";
-                    $buttonClass = "disabled";
-                    $lightRopeClass = "class='dead'";
-                } else {
-                    $amountClass = "discontinued-soon";
-                    $amountLeft = "<div><span>$shelfAmount</span> $unitNameFinal Left</div>" .
-                    "<div style='font-size: 0.8em; font-weight:bold; margin-top:5px; color:#ffe000'>(discontinued soon)</div>";
-                }
-            } else {
-                if($shelfAmount == 0) {
-                    $amountLeft = "SOLD OUT";
-                    $amountClass = "sold-out";
-                    $thumbnailClass = "sold-out";
-                    $buttonClass = "disabled";
-                } else {
-                    $amountLeft = "<span>$shelfAmount</span> $unitNameFinal Left";
-                }
-            }
-            
-            echo "<input id='shelf_quantity_" . $item_id . "' type='hidden' value='" . $shelfAmount . "'/>";
-            
-            $statementPopularity = $db->prepare('SELECT ItemID, Date FROM Restock where ItemID = :itemID ORDER BY Date DESC');
-            $statementPopularity->bindValue( ":itemID", $row['ID'] );
-            $resultsPopularity = $statementPopularity->execute();
-
-            $firstDate = "";
-            $lastDate = "";
-            $totalPurchases = 0;
-            while ($rowPopularity = $resultsPopularity->fetchArray()) {
-                if( $firstDate == "") {
-                    $firstDate = $rowPopularity[1];
-                }
-                $lastDate = $rowPopularity[1];
-                $totalPurchases++;
-            }
-            
-            $date_before = DateTime::createFromFormat('Y-m-d H:i:s', $firstDate);
-            $date_after = DateTime::createFromFormat('Y-m-d H:i:s', $lastDate);
-            
-            $days_ago = 0;
-            
-            if( $firstDate != "" && $lastDate != "" ) {
-                if( $firstDate == $lastDate) {
-                    $date_after = new DateTime();
-                }
-            
-                $time_since = $date_before->diff($date_after);
-                $days_ago = $time_since->format('%a');
-            }
-            
-            $frequencyBought = "0";
-            $purchaseDayInterval = "N/A";
-            
-            if( isset( $row['Frequency'] ) ) {
-                $frequencyBought = $row['Frequency'];
-            }
-            
-            if( $totalPurchases > 0 ) {
-                $purchaseDayInterval = round($days_ago / $totalPurchases);
-            }
-            
-            $previewImage = "";
-
-            $christianInTheHouse = isset( $_SESSION['UserName'] ) && $_SESSION['UserName'] == "cmartinez" && $item_id == 65;
-
-            if( $christianInTheHouse ) {
-                $previewImage = "<img class='preview_zoom' src='" . IMAGES_LINK . "babe_ruth.jpg' />";
-            } else if( $imageURL != "" ) {
-                $previewImage = "<img class='preview_zoom' src='" . PREVIEW_IMAGES_NORMAL . $imageURL . "' />";
-            } else {
-                $previewImage = "<img class='preview_zoom' style='width: 100px; height: 100px; padding-top:70px;' src='" . IMAGES_LINK . "no_image.png' />";
-            }
-
-            $total_can_sold = $row['TotalCans'] - ( $backstockAmount + $shelfAmount );
-            
-            $statementDefect = $db->prepare("SELECT Sum(Amount) as 'TotalDefect' From Defectives where ItemID = :itemID" );
-            $statementDefect->bindValue( ":itemID",  $row['ID'] );
-            $resultsDefect = $statementDefect->execute();
-
-            $rowDefect = $resultsDefect->fetchArray();
-            $totalDefects = $rowDefect['TotalDefect'];
-            
-            $total_can_sold = $total_can_sold - $totalDefects;
-            
-            
-            $reportButton = "";
-            if( IsLoggedIn() && !IsInactive() && $outOfStock != "1" ) {
-                $userName = $_SESSION['FirstName'] . " " . $_SESSION['LastName'];
-                $reportButton = "<div style='position: absolute; right: 10px; top:-42px; cursor:pointer;' onclick='reportItemOutOfStock(\"$userName\"," . $row['ID'] . ",\"" . $row['Name'] . "\")'><img src='" . IMAGES_LINK . "low.png' title='Report Item Out of Stock'/></div>";
-            }
-            
-            $outOfStockLabel = "";
-            if( $outOfStock == "1" ) {
-                $reportType = "out of stock";
-                $reportClass = "out_of_stock";
-                if( $outOfStockReporter == "StockBot" ) {
-                    if( $shelfAmount > 0 ) {
-                        $reportType = "running low";
-                        $reportClass = "running_low";
-                    }
-                }
-
-                $outOfStockLabel = "<div class='report-label $reportClass'>Reported as $reportType by " . $outOfStockReporter . "!</div>";
-            }
-            
-            // ------------------
-            // BUILD THE CARD
-            // ------------------
-            echo "<span class='post-module $statusClass'>";
-//                 echo "<div class='snow'>";
-                echo "<div class='thumbnail thumbnail-$thumbnailClass'>";
-//                     echo "<img style='position:absolute; top:14px; right:17px; z-index:200;' src='" . IMAGES_LINK . "wreath.png'/>";
-                     $smallPriceFont = "";
-
-                     if( substr( $priceDisplay, 0, 1 ) == "$" ) {
-                         $smallPriceFont = "style='font-size: 0.9em; padding:17.5px 0;'";
-                     }
-                    echo "<div $smallPriceFont class='price'>";
-                        echo $priceDisplay;
-                    echo "</div>";
-                    echo $previewImage;
-                echo "</div>";
-                echo "</div>";
-                echo "<div class='post-content'>";
-                    echo $reportButton;
-
-                    if( $row['DateModified'] != null ) {
-                        $lastRefilled = DateTime::createFromFormat('Y-m-d H:i:s', $row['DateModified']);
-                        $now = new DateTime();
-
-                        $timeSinceLastRefill = $now->diff($lastRefilled);
-
-                        $minutesSinceLastRefill = ($timeSinceLastRefill->d * 24 * 60) + ($timeSinceLastRefill->h * 60) + $timeSinceLastRefill->i;
-
-                        if ($minutesSinceLastRefill <= 120 && $itemType == "Soda") {
-                            echo "<div style='position: absolute; right: 10px; top:-80px;'><img src='" . IMAGES_LINK . "thermometer.png' title='This item was added to the fridge $minutesSinceLastRefill minutes ago and might not be cold yet.'/></div>";
-                        }
-                    }
-
-                    echo "$outOfStockLabel";
-                    echo "<div class='category category-$cardClass $amountClass'>$amountLeft</div>";
-
-                    if( $supplierName != "" ) {
-                        echo "<div title='This item is being sold by $supplierName through FoodStock' class='supplier'>Sold by $supplierName</div>";
-                    }
-
-                    if( $christianInTheHouse ) {
-                        echo "<h1 class='title'>Fun-Size Babe Ruths</h1>";
-                    } else {
-                        echo "<h1 class='title'>" . $row['Name'] . "</h1>";
-                    }
-                    
-                    $currentFlavor = $row['CurrentFlavor'];
-                    if( $currentFlavor != "" ) {
-                        echo "<h1 class='sub_title'><u>Current Flavor:</u> <i>$currentFlavor</i></h1>";
-                    }
-
-                    $income = $row['ItemIncome'];
-                    $expense = $row['ItemExpenses'];
-                    $profit = $row['ItemProfit'];
-
-                    $profitClass = $profit > 0 ? "income" : "expenses";
-
-                    $actionsClass = "actions_no_stats";
-
-                    $showItemStats = true;
-                    if( isset( $_SESSION['ShowShelf'] ) && $_SESSION['ShowItemStats'] == 0 ) {
-                        $showItemStats = false;
-                    }
-
-                    if( $showItemStats ) {
-                        $actionsClass = "actions";
-
-                        if (IsAdminLoggedIn()) {
-
-                            echo "<div class='stats'>";
-                            echo "<span class='box box-expenses' title='Total Expenses'>";
-                            echo "<span class='value'>" . getPriceDisplayWithDollars($expense) . "</span>";
-                            echo "<span class='parameter'>Expenses</span>";
-                            echo "</span>";
-
-                            echo "<span style='border: 2px solid #000;' class='box box-$profitClass' title='Total Profit'>";
-                            echo "<span class='value'>" . getPriceDisplayWithDollars($profit) . "</span>";
-                            echo "<span class='parameter'>Profit</span>";
-                            echo "</span>";
-
-                            echo "<span class='box box-income' title='Total Income'>";
-                            echo "<span class='value'>" . getPriceDisplayWithDollars($income) . "</span>";
-                            echo "<span class='parameter'>Income</span>";
-                            echo "</span>";
-                            echo "</div>";
-                        }
-
-                        echo "<div class='stats'>";
-                        echo "<span class='box box-$profitClass' title='You have bought this x times.'>";
-                        echo "<span class='value'>$frequencyBought</span>";
-                        echo "<span class='parameter'>Purchases</span>";
-                        echo "</span>";
-
-                        echo "<span class='box box-$profitClass' title='Restocked every x days.'>";
-                        echo "<span class='value'>$purchaseDayInterval</span>";
-                        echo "<span class='parameter'>Days</span>";
-                        echo "</span>";
-
-                        echo "<span class='box box-$profitClass' title='Total of x units sold.'>";
-                        echo "<span class='value'>$total_can_sold</span>";
-                        echo "<span class='parameter'>Total Sold</span>";
-                        echo "</span>";
-                        echo "</div>";
-                    }
-
-                    if( IsLoggedIn() && !IsInactive() ) {
-                        echo "<div class='$actionsClass'>";
-                            echo "<button id='add_button_" .  $row['ID'] . "' onclick='addItemToCart(" . $row['ID'] . ")' style='float:right;' class='btn btn-$buttonClass' title='Add item(s)'>Add</button>";
-                            echo "<span style='float:right;' class='quantity' id='quantity_holder_" . $row['ID'] . "'>0</span>";
-                            echo "<button id='remove_button_" .  $row['ID'] . "' onclick='removeItemFromCart(" . $row['ID'] . ")' style='float:left;' class='btn btn-$buttonClass' title='Remove item(s)'>Remove</button>";
-                        echo "</div>"; //actions
-                    }
-                echo "</div>"; //post-content
-
-                echo "<div>Something</div>";
-
-//                echo "<ul style='top: 2px;' class='lightrope'>" .
-//                 "<li $lightRopeClass title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
-//                 "<li $lightRopeClass title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
-//                 "<li $lightRopeClass title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
-//                 "<li $lightRopeClass title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
-//                 "<li $lightRopeClass title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
-//                 "<li $lightRopeClass title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
-//                 "<li $lightRopeClass title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
-//                 "<li $lightRopeClass title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
-//                 "<li $lightRopeClass title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
-//                 "</ul>";
-                
-        echo "</span>"; //post-module
-        }
-    } 
+        buildCardArea( $db, $itemType, $className, $location, $itemSearch );
+    }
     else if( $type == "ToggleRequestCompleted" ) {
         $requestID = $_POST['id'];
         $statement = $db->prepare("SELECT Completed FROM Requests WHERE ID = :requestID" );
@@ -770,7 +411,7 @@
         echo "<div>";
 
         echo "<div style='text-align:right;'>";
-        echo "<button class='quantity_button quantity_button_purchase' title='Purchase'>PURCHASE</button>";
+        echo "<button class='purchase_button' title='Purchase'>PURCHASE</button>";
         echo "</div>";
 
         if( $_SESSION['ShowCashOnly'] ==  1 ) {
diff --git a/common/handle_forms.php b/common/handle_forms.php
index 0a4f941..026c130 100644
--- a/common/handle_forms.php
+++ b/common/handle_forms.php
@@ -1,7 +1,7 @@
 <?php
 include(__DIR__ . "/../appendix.php" );
-$db = new SQLite3( getDB() );
-if (!$db) die ("DB is missing");
+$db = getDB();
+
 
 
 include( SESSION_FUNCTIONS_PATH );
diff --git a/common/header.php b/common/header.php
index c755cf0..f3b690e 100644
--- a/common/header.php
+++ b/common/header.php
@@ -8,6 +8,7 @@
 <link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
 
 <?php
+    include_once(HOLIDAY_FUNCTIONS_PATH);
     echo "<link rel='stylesheet' type='text/css' href='" . CSS_LINK . "'/>";
     echo "<link rel='stylesheet' type='text/css' href='" . MOBILE_CSS_LINK . "'/>";
     echo "<link rel='stylesheet' type='text/css' href='" . CSS_LIGHTS_LINK . "'/>";
@@ -18,7 +19,7 @@
     $titleName = "SodaStock";
     $isAdminPage = false;
     $isSharedAdminVendorPage = false;
-    $bodyClass = "soda_body";
+    $bodyClass = getHolidayClass( "soda_body" );
 
     switch( $url ) {
         case ADMIN_AUDIT_REPORT_LINK:
@@ -108,7 +109,7 @@
             $isAdminPage = false;
             $titleName = "SnackStock";
             $trackingName = "SnackStock";
-            $bodyClass = "snack_body";
+            $bodyClass = getHolidayClass( "snack_body" );
             break;
         case PURCHASE_HISTORY_LINK:
             $isAdminPage = false;
@@ -155,9 +156,8 @@
     include_once( QUANTITY_FUNCTIONS_PATH );
     include_once( SLACK_FUNCTIONS_PATH );
 
-    $db = new SQLite3( getDB() );
-    if (!$db) die ($error);
-        
+    $db = getDB();
+
     date_default_timezone_set('America/New_York');
        
     if( $isAdminPage && isset($_GET['Proxy_x25'])) {
diff --git a/common/login_bar.php b/common/login_bar.php
index b8d8366..4c94daa 100644
--- a/common/login_bar.php
+++ b/common/login_bar.php
@@ -53,9 +53,12 @@
         echo "<nav id='nav' role='navigation'>";
         echo "<ul>";
 
+        $sodaButtonClass = getHolidayClass( "nav_buttons_soda" );
+        $snackButtonClass = getHolidayClass( "nav_buttons_snack" );
+
         echo "<li><a style='text-decoration:none;' href='" . HELP_LINK . "'><span class='nav_buttons nav_buttons_help'><span id='help_text'>?</span><span id='help_text_mobile'>Help</span></span></a></li>";
-        echo "<li><a style='text-decoration:none;' href='" . SODASTOCK_LINK . "'><span class='nav_buttons nav_buttons_soda'>Soda Home</span></a></li>";
-        echo "<li><a style='text-decoration:none;' href='" . SNACKSTOCK_LINK . "'><span class='nav_buttons nav_buttons_snack'>Snack Home</span></a></li>";
+        echo "<li><a style='text-decoration:none;' href='" . SODASTOCK_LINK . "'><span class='nav_buttons $sodaButtonClass'>Soda Home</span></a></li>";
+        echo "<li><a style='text-decoration:none;' href='" . SNACKSTOCK_LINK . "'><span class='nav_buttons $snackButtonClass'>Snack Home</span></a></li>";
 
         if(!IsLoggedIn()) {
             $results = $db->query("SELECT Count(*) as Active, Sum(SnackSavings) as TotalSnackSavings, Sum(SodaSavings) as TotalSodaSavings FROM User WHERE SnackBalance != 0.0 OR SodaBalance != 0");
@@ -106,7 +109,9 @@
                 echo "<li><a style='text-decoration:none; $creditsGreyedOut' href='" . PURCHASE_HISTORY_LINK . "'><span class='nav_buttons nav_buttons_admin'>Credits: " . getPriceDisplayWithDollars($credits) . "$noMobileSupport</span></a><li>";
             }
 
-            echo "<li><a style='text-decoration:none;' href='" . PURCHASE_HISTORY_LINK . "'><span class='nav_buttons nav_buttons_billing'>Balance: " .  getPriceDisplayWithDollars( $totalBalance ) . "$noMobileSupport</span></a><li>";
+            $balanceLabel = getHolidayBalanceLabel();
+
+            echo "<li><a style='text-decoration:none;' href='" . PURCHASE_HISTORY_LINK . "'><span class='nav_buttons nav_buttons_billing'>$balanceLabel: " .  getPriceDisplayWithDollars( $totalBalance ) . "$noMobileSupport</span></a><li>";
 
             if( IsAdminLoggedIn() ) {
                 $refillCount = getRefillCount($db);
@@ -153,6 +158,8 @@
             echo "<span id='display_name_$id'>";
             echo "Logged in: <b><span style='color:$userColor;'>[" . $_SESSION['UserName'] . "]";
 
+            printHolidayUserSuffix();
+
             if( IsAdminLoggedIn() ) {
                 echo " - Administrator";
             }
diff --git a/css/lights.css b/css/lights.css
index 4d93345..8cb6764 100644
--- a/css/lights.css
+++ b/css/lights.css
@@ -112,6 +112,10 @@ body {
   margin-left: -40px;
 }
 
+.card_block_discontinued .lightrope {
+  display: none;
+}
+
 <!-- GREEN -->
 @-webkit-keyframes flash-1 {
   0%, 100% {
diff --git a/css/mobile_7_2.css b/css/mobile_7_2.css
index c85e1ec..3d10922 100644
--- a/css/mobile_7_2.css
+++ b/css/mobile_7_2.css
@@ -97,7 +97,7 @@
         float: right;
     }
 
-    .post-module {
+    .card_block {
         margin: 30px 0px;
         -webkit-box-shadow: none;
         box-shadow: none;
@@ -109,7 +109,7 @@
         box-shadow: none;
     }
 
-    .rounded_header {
+    .page_header {
         padding: 10px;
     }
 
diff --git a/css/style_7_2.css b/css/style_7_2.css
index 8f3f3a6..2f16bdf 100644
--- a/css/style_7_2.css
+++ b/css/style_7_2.css
@@ -7,40 +7,67 @@ body {
     background-color:#7EBAFF;
 }
 
-.fancy {
+/******************************************************************************************************************
+   INLINE FORMS
+*******************************************************************************************************************/
+
+.inline_form {
     font-size: 62.5%;
 }
 
-.fancy label, .fancy input { 
+.inline_form label, .inline_form input {
 	display:block; 
 }
 
-.fancy label {
+.inline_form label {
 	font-size: 1.4em;
 	padding: 5px 0px;
 	font-weight: bold;
 }
 
-.fancy input.text, .fancy select {
-	margin-bottom:20px;
+.inline_form input.text, .inline_form select {
+	margin-bottom:5px;
 	width:95%;
 	padding: .4em;
 	font-size:1.2em;
 }
-.fancy fieldset { 
-	padding:0;
+.inline_form fieldset {
 	border:0;
 	margin-top:25px;
+
+    padding:0px 20px 20px 20px;
+    font-size:1.2em;
+    color:#000;
+    border:3px solid #a0b113;
+    background-color:#fffac0;
 }
 
-.item_button:hover {
-    background-color:#000;
+.inline_form .helptext {
+    font-size:0.9em;
+    color: #444444;
+    line-height:15px;
+    margin-bottom:20px;
+    display: block;
 }
 
-.radio_status {
-    text-align: center;
+.inline_form .button {
+    padding:10px;
+    text-align:center;
+    width:100%;
+}
+
+.inline_form .checkbox_label {
+    display: inline-block;
 }
 
+.inline_form .checkbox {
+    display: inline-block;
+}
+
+/******************************************************************************************************************
+ NAV BUTTONS
+*******************************************************************************************************************/
+
 .nav_buttons {
     padding:5px;
     font-size: 0.9em;
@@ -51,14 +78,6 @@ body {
     font-weight: bold;
 }
 
-.nav_buttons_soda:hover {
-    background-color: #4fa9de;
-}
-.nav_buttons_soda {
-    background-color: #247eb3;
-    border: solid 2px #023b5d;
-}
-
 .nav_buttons_help:hover {
     background-color: #42e2ff;
 }
@@ -68,14 +87,6 @@ body {
     color: #000000;
 }
 
-.nav_buttons_snack:hover {
-    background-color: #dc5c5c;
-}
-.nav_buttons_snack {
-    background-color: #b32424;
-    border: solid 2px #5d0202;
-}
-
 .nav_buttons_requests:hover {
     background-color: #c075ef;
 }
@@ -149,315 +160,378 @@ body {
     text-decoration:none;
 }
 
-.register {
-    color: #fbff5f;
-    font-weight:bold;
-}
+/******************************************************************************************************************
+   COLOR THEMES
+*******************************************************************************************************************/
 
-.quantity_button {
-    padding:5px 10px;
-    font-weight:bold;
-    cursor:pointer; 
-    font-size:1.1em;
-    border: 3px solid #000;
-    width: 100px;
+.soda_body {
+    background-color:#5c82af;
 }
-
-.quantity_button_purchase {
-    background-color:#31ad22;
-    width:230px;
+.snack_body {
+    background-color:#9e514d;
 }
-
-.quantity_button_purchase:hover {
-    background-color:#6bda5e;
+.soda_body .card_block .thumbnail {
+    background: #212a67;
 }
-
-.register:visited {
-    color: #FFF;
+.snack_body .card_block .thumbnail {
+    background: #672121;
 }
-
-.radio_status label {
-    float: left;
-    clear: none;
-    display: block;
+.soda_body .card_block .quantity_box {
+    background: #3c69e7;
+    color: #FFFFFF;
 }
-
-.radio_status input[type=radio], .radio_status input.radio {
-    float: left;
-    clear: none;
-    margin: 2px 0 0 2px;
+.snack_body .card_block .quantity_box {
+	background: #e74c3c;
+    color: #FFFFFF;
 }
-
-.cold_item {
-    font-size: 1em; 
-    background-color: #6696F7; 
-    border:#3E5C98 dashed 2px;
-    font-weight: bold;
+.soda_body .quantity_button {
+    border: 1px solid #272e52;
+    color: #064984;
 }
-
-.bordered_table {
-	border-collapse: collapse;
-	border: 1px solid #000;
-	width: 100%;
+.snack_body .quantity_button {
+    border: 1px solid #522727;
+    color: #961818;
 }
-
-.bordered_table tr, .bordered_table th, .bordered_table td {
-	border: 1px solid #000;
+.soda_body .quantity_button:hover {
+    background: #3b587b;
+    color: #fff;
 }
-
-.bordered_table td {
-   text-align: center;
-   padding:5px;
+.snack_body .quantity_button:hover {
+    background: #7b3e3b;
+    color: #fff;
 }
-
-
-.no_item {
-    font-size: 1em;
-    color: #FFFFFF;
-    background-color: #2f2f2f; 
-    border:#1d1d1d dashed 2px;
-    font-weight: bold;
-    
+.soda_body .stat_box {
+    background-color:#0b233a;
+    color: #497886;
+}
+.snack_body .stat_box {
+    background-color:#3a0b0f;
+    color: #b67d52;
+}
+.soda_body .version_box {
+    background-color: #091528;
+    color: #265a78;
+    font-size: 1.0em;
+}
+.snack_body .version_box {
+    background-color: #28090c;
+    color: #864949;
+    font-size: 1.0em;
+}
+.nav_buttons_soda:hover {
+    background-color: #4fa9de;
+}
+.nav_buttons_soda {
+    background-color: #247eb3;
+    border: solid 2px #023b5d;
+}
+.nav_buttons_snack:hover {
+    background-color: #dc5c5c;
+}
+.nav_buttons_snack {
+    background-color: #b32424;
+    border: solid 2px #5d0202;
 }
 
-.profit { font-size: 20px; padding: 5px 0px; }
 
-.circle { padding:10px; border-radius: 15px; margin-top:30px; margin-bottom:30px; }
 
-.shopping_guide_container {
-	padding:10px;
-	font-size: 2em; 
-    background-color: #f5f766; 
-    border:#98893e dashed 2px;
+.patricks_soda_body {
+    background-color: #afa86c;
 }
 
-.soda_body {	
-    background-color:#5c82af;
+.patricks_snack_body {
+    background-color: #5f9e73;
 }
-
-.snack_body {
-    background-color:#9e514d;
+.patricks_soda_body .card_block .thumbnail {
+    background: #67662d;
 }
 
-.card {
-    width: 24em;
-    display: inline-block; 
-    vertical-align: top;
-    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
-    text-align: center;
-    padding: 0px;
-    margin:20px;
+.patricks_snack_body .card_block .thumbnail {
+    background: #3f6744;
 }
-
-.money {
-    border: 1px dashed #000; 
-    padding: 5px;
-    text-align:center;
+.patricks_soda_body .card_block .quantity_box {
+    background: #a4a933;
+    color: #FFFFFF;
 }
-
-.top_section { padding: 10px; }
-
-.nav_box a {
-	text-underline: none;
+.patricks_snack_body .card_block .quantity_box {
+	background: #42a948;
+    color: #FFFFFF;
 }
-
-.vcenter{
-    background:#eee;
-    width: 150px;
-    height: 150px;
+.patricks_soda_body .quantity_button {
+    border: 1px solid #272e52;
+    color: #83840e;
 }
-.vcenter:before {
-    content: " ";
-    display: inline-block;
-    height: 100%;
-    vertical-align: middle;
-    max-width: 0.001%; /* Just in case the text wrapps, you shouldn't notice it */
+.patricks_snack_body .quantity_button {
+    border: 1px solid #522727;
+    color: #109612;
 }
-    
-.vcenter :first-child {
-    display:inline-block;
-    vertical-align:middle;
-    max-width: 99.999%;
+.patricks_soda_body .quantity_button:hover {
+    background: #797b2c;
+    color: #fff;
 }
-
-.container {
-    padding: 10px;
+.patricks_snack_body .quantity_button:hover {
+    background: #3b7b41;
+    color: #fff;
 }
-
-.table_header {
-    background-color: #7a8020;
-    font-weight:bold;
+.patricks_soda_body .stat_box {
+    background-color: #393a0c;
+    color: #b1b149;
 }
-
-
-.discontinued_row {
-    background-color: #8a3535;
+.patricks_snack_body .stat_box {
+    background-color: #073a0b;
+    color: #61b65c;
 }
-
-.odd {
-    background-color: #358a37;
+.patricks_soda_body .version_box {
+    background-color: #28280a;
+    color: #767825;
+    font-size: 1.0em;
+}
+.patricks_snack_body .version_box {
+    background-color: #09280d;
+    color: #4f8650;
+    font-size: 1.0em;
+}
+.patricks_nav_buttons_soda:hover {
+    background-color: #dede5a;
+}
+.patricks_nav_buttons_soda {
+    background-color: #b3b334;
+    border: solid 2px #5d5d0a;
+}
+.patricks_nav_buttons_snack:hover {
+    background-color: #74dc73;
+}
+.patricks_nav_buttons_snack {
+    background-color: #2ab335;
+    border: solid 2px #065d0f;
 }
 
 
-.even {
-    background-color: #49bb4c;
+.fools_soda_body {
+    background-color: #af7596;
 }
 
-.red_price {
-    color:#b50505;
-    text-decoration:line-through;
-    margin-right:5px;
+.fools_snack_body {
+    background-color: #419b9e;
+}
+.fools_soda_body .card_block .thumbnail {
+    animation-name: fools_cards;
+    animation-duration: 4s;
+    animation-iteration-count: infinite;
 }
 
-
-.post-module-discontinued {
-	opacity:0.33;
+.fools_snack_body .card_block .thumbnail {
+    animation-name: fools_cards;
+    animation-duration: 4s;
+    animation-iteration-count: infinite;
 }
-.post-module {
-	margin: 30px;
-    position: relative;
-    z-index: 1;
-    display: inline-block;
-    background: #FFFFFF;
-    min-width: 350px;
-    height: 445px;
-    -webkit-box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.15);
-    -moz-box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.15);
-    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.15);
-    -webkit-transition: all 0.3s linear 0s;
-    -moz-transition: all 0.3s linear 0s;
-    -ms-transition: all 0.3s linear 0s;
-    -o-transition: all 0.3s linear 0s;
-    box-shadow: 0px 1px 35px 0px rgba(0, 0, 0, 1);
+.fools_soda_body .card_block .quantity_box {
+    background: #d6672d;
+    color: #FFFFFF;
 }
-
-.post-module .thumbnail {
-    height: 400px;
-    overflow: hidden;
+.fools_snack_body .card_block .quantity_box {
+	background: #461d82;
+    color: #FFFFFF;
 }
-
-.post-module .thumbnail-snack {
-    background: #672121;
+.fools_snack_body .quantity_box .quantity_text, .fools_soda_body .quantity_box .quantity_text {
+    animation: yup_this_annoying_blinking_crap 0.3s linear infinite;
 }
 
-.post-module .thumbnail-soda {
-    background: #212a67;
+.fools_soda_body .quantity_button {
+    border: 1px solid #272e52;
+    color: #831a84;
+}
+.fools_snack_body .quantity_button {
+    border: 1px solid #522727;
+    color: #229496;
+}
+.fools_soda_body .quantity_button:hover {
+    background: #7b3379;
+    color: #fff;
+}
+.fools_snack_body .quantity_button:hover {
+    background: #3d727b;
+    color: #fff;
+}
+.fools_soda_body .stat_box {
+    background-color: #3a1a35;
+    color: #10ff48;
+}
+.fools_snack_body .stat_box {
+    background-color: #ffffff;
+    color: #940000;
+}
+.fools_soda_body .version_box {
+    background-color: #270d28;
+    color: #783277;
+    font-size: 1.0em;
+}
+.fools_snack_body .version_box {
+    background-color: #0d2228;
+    color: #2e7e86;
+    font-size: 1.0em;
+}
+.fools_nav_buttons_soda:hover {
+    background-color: #de53d6;
+}
+.fools_nav_buttons_soda {
+    background-color: #b34ab1;
+    border: solid 2px #5b235d;
+}
+.fools_nav_buttons_snack:hover {
+    background-color: #7edbdc;
+}
+.fools_nav_buttons_snack {
+    background-color: #3bafb3;
+    border: solid 2px #065d0f;
 }
 
-.post-module .thumbnail-sold-out {
-    background: #151414;
+@keyframes yup_this_annoying_blinking_crap {
+  50% {
+    opacity: 0;
+  }
 }
 
-.price {
-    font-size: 22px;
-	border: 2px solid #0e6d03;
-    position: absolute;
-    top: 20px;
-    right: 20px;
-    z-index: 1;
-    background: #52af51;
-    width: 55px;
-    height: 55px;
-    padding: 12.5px 0;
-    -webkit-border-radius: 100%;
-    -moz-border-radius: 100%;
-    border-radius: 100%;
-    color: #FFFFFF;
-    font-weight: 700;
-    text-align: center;
-    -webkti-box-sizing: border-box;
-    -moz-box-sizing: border-box;
-    box-sizing: border-box;
-    display:block;
+@keyframes fools_cards {
+    12.5% {
+        background-color: #ff7b82;
+    }
+    25% {
+        background-color: #FFA500;
+    }
+    37.5% {
+        background-color: #FFFF00;
+    }
+    50% {
+        background-color: #7FFF00;
+    }
+    62.5% {
+        background-color: #00FFFF;
+    }
+    75% {
+        background-color: #7385ff;
+    }
+    87.5% {
+        background-color: #bf80cc;
+    }
+    100% {
+        background-color: #ff83bb;
+    }
 }
 
-.quantity {
-    width: 30px;
-    height: 30px;
-    margin: 0px 10px;
-    background: none;
-    border: 1px solid #786450;
-    font-size: 12px;
-    font-weight: 600;
-    box-sizing: border-box;
-    transition: all .3s ease-in-out;
-    color: #786450;
-    display:block;
-    text-align:center;
-    padding: 5px;
-    font-size: 15px;
+.fools_soda_body .card_block:hover .thumbnail .preview_zoom, .fools_snack_body .card_block:hover .thumbnail .preview_zoom {
+    -webkit-transform: scale(0.05, 2);
+    -moz-transform: scale(0.05, 2);
+    transform: scale(0.05, 2) rotate(90deg);
 }
 
-.fakeInput {
-    border: 1px solid #000000;
-    text-align: center;
+.fools_price {
+    z-index:4000 !important;
+    cursor: pointer;
+    color: #ff8787 !important;
+    background-color: #000000 !important;
+    border: 2px solid #6d0004 !important;
 }
 
-.post-module:hover .thumbnail .preview_zoom,
-.hover .thumbnail .preview_zoom {
-    -webkit-transform: scale(1.8);
-    -moz-transform: scale(1.8);
-    transform: scale(1.8);
+.fools_price:hover {
+   opacity: 0.0;
+    transition: opacity .55s ease-in-out;
+    -moz-transition: opacity .55s ease-in-out;
+    -webkit-transition: opacity .55s ease-in-out;
 }
 
-.post-module .thumbnail .preview_zoom {
-    display: block;
-    height: 200px;
-    margin: 10px auto;
-    -webkit-transition: all 0.3s linear 0s;
-    -moz-transition: all 0.3s linear 0s;
-    -ms-transition: all 0.3s linear 0s;
-    -o-transition: all 0.3s linear 0s;
-    transition: all 0.3s linear 0s;
+
+
+
+.xmas_soda_body {
+    background-color: #5f9e73;
 }
-.post-module .post-content {
-    position: absolute;
-    bottom: 0;
-    background: #FFFFFF;
-    width: 100%;
-    padding: 30px;
-    -webkti-box-sizing: border-box;
-    -moz-box-sizing: border-box;
-    box-sizing: border-box;
-    -webkit-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
-    -moz-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
-    -ms-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
-    -o-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
-    transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
+.xmas_snack_body {
+    background-color:#9e514d;
+}
+.xmas_soda_body .card_block .thumbnail {
+    background: #3f6744;
+}
+.xmas_snack_body .card_block .thumbnail {
+    background: #672121;
+}
+.xmas_soda_body .card_block .quantity_box {
+    background: #42a948;
+    color: #FFFFFF;
 }
-.post-module .post-content .category-snack {
+.xmas_snack_body .card_block .quantity_box {
 	background: #e74c3c;
+    color: #FFFFFF;
 }
-
-.post-module .post-content .category-soda {
-    background: #3c69e7;
+.xmas_soda_body .quantity_button {
+    border: 1px solid #522727;
+    color: #109612;
+}
+.xmas_snack_body .quantity_button {
+    border: 1px solid #522727;
+    color: #961818;
+}
+.xmas_soda_body .quantity_button:hover {
+    background: #3b7b41;
+    color: #fff;
+}
+.xmas_snack_body .quantity_button:hover {
+    background: #7b3e3b;
+    color: #fff;
+}
+.xmas_soda_body .stat_box {
+    background-color: #073a0b;
+    color: #61b65c;
+}
+.xmas_snack_body .stat_box {
+    background-color:#3a0b0f;
+    color: #b67d52;
+}
+.xmas_soda_body .version_box {
+    background-color: #09280d;
+    color: #4f8650;
+    font-size: 1.0em;
+}
+.xmas_snack_body .version_box {
+    background-color: #28090c;
+    color: #864949;
+    font-size: 1.0em;
+}
+.xmas_nav_buttons_soda:hover {
+    background-color: #74dc73;
+}
+.xmas_nav_buttons_soda {
+    background-color: #2ab335;
+    border: solid 2px #065d0f;
+}
+.xmas_nav_buttons_snack:hover {
+    background-color: #dc5c5c;
+}
+.xmas_nav_buttons_snack {
+    background-color: #b32424;
+    border: solid 2px #5d0202;
 }
 
 
 
-.post-module .post-content .category {
-    position: absolute;
-    top: -28px;
-    left: 0;
-    padding: 10px 15px;
-    color: #FFFFFF;
-    font-size: 14px;
-    font-weight: 600;
-    text-transform: uppercase;
+
+
+
+.patricks_snack_body .stat_box {
+
 }
+.patricks_snack_body .version_box {
+
+}
+.patricks_nav_buttons_snack:hover {
 
-.post-module .post-content .supplier {
-    position: absolute;
-    top: 0px;
-    right: 0;
-    padding: 5px 5px;
-    color: #FFFFFF;
-    font-size: 10px;
-    font-weight: 400;
-    text-transform: uppercase;
-    background-color: #8623a6;
 }
+.patricks_nav_buttons_snack {
 
+}
+/******************************************************************************************************************
+   MODALS
+*******************************************************************************************************************/
 
 .neptuneForm{
 	margin:10px auto 0px auto;
@@ -550,7 +624,7 @@ body {
 	display: block;
 	outline: none;
 	border: none;
-	height: 25px;
+	/*height: 25px;*/
 	line-height: 25px;
 	font-size: 0.85em;
 	padding: 0;
@@ -584,50 +658,525 @@ body {
 	resize:none;
 }
 
-.neptuneForm .buttons input[type="submit"],
-.neptuneForm .buttons input[type="button"]{
-	border: none;
-	padding: 10px 20px 10px 20px;
-	border-radius: 3px;
-    cursor: pointer;
-}
+.neptuneForm .buttons input[type="submit"],
+.neptuneForm .buttons input[type="button"]{
+	border: none;
+	padding: 10px 20px 10px 20px;
+	border-radius: 3px;
+    cursor: pointer;
+}
+
+.neptuneForm .buttons.soda input[type="submit"],
+.neptuneForm .buttons.soda input[type="button"]{
+	background: #3c528e;
+	color: #D2E2FF;
+}
+
+.neptuneForm .buttons.snack input[type="submit"],
+.neptuneForm .buttons.snack input[type="button"]{
+	background: #8e3f42;
+	color: #ffdbe0;
+}
+
+.neptuneForm .buttons input[type="submit"],
+.neptuneForm .buttons input[type="button"]{
+	background: #8e8d59;
+	color: #feffcf;
+}
+
+.neptuneForm .buttons.soda input[type="submit"]:hover,
+.neptuneForm .buttons.soda input[type="button"]:hover{
+	background: #6B9FFF;
+	color:#fff;
+}
+
+.neptuneForm .buttons.snack input[type="submit"]:hover,
+.neptuneForm .buttons.snack input[type="button"]:hover{
+	background: #ff5d65;
+	color:#fff;
+}
+
+.neptuneForm .buttons input[type="submit"]:hover,
+.neptuneForm .buttons input[type="button"]:hover{
+	background: #fff552;
+	color: #7a7a7a;
+}
+
+/* The Modal (background) */
+.neptuneModal {
+    display: none; /* Hidden by default */
+    position: fixed; /* Stay in place */
+    z-index: 1; /* Sit on top */
+    left: 0;
+    top: 0;
+    width: 100%; /* Full width */
+    height: 100%; /* Full height */
+    overflow: auto; /* Enable scroll if needed */
+    background-color: rgb(0,0,0); /* Fallback color */
+    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
+    text-align: center;
+}
+
+/* Modal Content/Box */
+.neptuneModalContent {
+    background-color: #fefefe;
+    /*padding: 20px;*/
+    border: 1px solid #888;
+    display: inline-block;
+    position: relative;
+    top: 60px;
+}
+
+.neptuneTitleBar.soda {
+    background-color: #3c528e;
+    color: #D2E2FF;
+}
+
+.neptuneTitleBar.snack {
+    background-color: #8e333f;
+    color: #ffbfb8;
+}
+
+.neptuneTitleBar {
+    text-align: center;
+    padding: 5px;
+    font-weight: bold;
+    background-color: #8e8136;
+    color: #e2dbb2;
+}
+
+/* The Close Button */
+.neptuneModalClose {
+    color: #aaa;
+    font-size: 28px;
+    font-weight: bold;
+    position: absolute;
+    top: 0px;
+    right: 5px;
+}
+
+.neptuneModalClose:hover,
+.neptuneModalClose:focus {
+    color: black;
+    text-decoration: none;
+    cursor: pointer;
+}
+
+/******************************************************************************************************************
+   CARDS
+*******************************************************************************************************************/
+
+.card {
+    width: 24em;
+    display: inline-block;
+    vertical-align: top;
+    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
+    text-align: center;
+    padding: 0px;
+    margin:20px;
+}
+
+.card_block_discontinued {
+	opacity:0.33;
+}
+
+.card_block {
+	margin: 30px;
+    position: relative;
+    z-index: 1;
+    display: inline-block;
+    background: #FFFFFF;
+    min-width: 350px;
+    height: 445px;
+    -webkit-box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.15);
+    -moz-box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.15);
+    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.15);
+    -webkit-transition: all 0.3s linear 0s;
+    -moz-transition: all 0.3s linear 0s;
+    -ms-transition: all 0.3s linear 0s;
+    -o-transition: all 0.3s linear 0s;
+    box-shadow: 0px 1px 35px 0px rgba(0, 0, 0, 1);
+}
+
+.card_block.refilled {
+    box-shadow: 0px 0px 35px 0px rgb(197, 17, 21);
+}
+
+.card_block .thumbnail {
+    height: 400px;
+    overflow: hidden;
+}
+
+
+
+.card_block .thumbnail.thumbnail_sold_out {
+    background: #151414;
+}
+
+.card_block:hover .thumbnail .preview_zoom,
+.hover .thumbnail .preview_zoom {
+    -webkit-transform: scale(1.8);
+    -moz-transform: scale(1.8);
+    transform: scale(1.8);
+}
+
+.card_block .thumbnail .preview_zoom {
+    display: block;
+    height: 200px;
+    margin: 10px auto;
+    -webkit-transition: all 0.3s linear 0s;
+    -moz-transition: all 0.3s linear 0s;
+    -ms-transition: all 0.3s linear 0s;
+    -o-transition: all 0.3s linear 0s;
+    transition: all 0.3s linear 0s;
+}
+.card_block .post-content {
+    position: absolute;
+    bottom: 0;
+    background: #FFFFFF;
+    width: 100%;
+    padding: 30px;
+    -webkti-box-sizing: border-box;
+    -moz-box-sizing: border-box;
+    box-sizing: border-box;
+    -webkit-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
+    -moz-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
+    -ms-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
+    -o-transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
+    transition: all 0.3s cubic-bezier(0.37, 0.75, 0.61, 1.05) 0s;
+}
+
+
+.card_block .quantity_box.quantity_box_sold_out {
+    background-color: #232323;
+    color: #FFFFFF;
+}
+
+.card_block .quantity_box.quantity_box_discontinued_soon {
+    background-color: #17134e;
+    color: #FFFFFF;
+}
+
+.card_block .quantity_box.quantity_box_discontinued {
+    background-color: #940000;
+    color: #ffe06f;
+}
+
+.card_block .quantity_box {
+    position: absolute;
+    top: -28px;
+    left: 0;
+    padding: 10px 15px;
+    font-size: 14px;
+    font-weight: 600;
+    text-transform: uppercase;
+}
+
+.card_block .post-content .supplier {
+    position: absolute;
+    top: 0px;
+    right: 0;
+    padding: 5px 5px;
+    color: #FFFFFF;
+    font-size: 10px;
+    font-weight: 400;
+    text-transform: uppercase;
+    background-color: #8623a6;
+}
+
+.card_block .post-content .report-label {
+    position: absolute;
+    bottom: 10px;
+    left: 0;
+    padding:5px 0px;
+    color: #000000;
+    text-align:center;
+    font-size: 10px;
+    font-weight: 600;
+    text-transform: uppercase;
+    width:100%;
+}
+
+.card_block .post-content .out_of_stock {
+    background: #e47b7b;
+}
+
+.card_block .post-content .running_low {
+    background: #e2e47b;
+}
+
+
+.card_block .post-content .title {
+    margin: 0;
+    padding: 0 0 10px;
+    color: #333333;
+    font-size: 22px;
+    font-weight: 700;
+}
+.card_block .post-content .sub_title {
+    margin: 0;
+    padding: 0 0 20px;
+    color: #e74c3c;
+    font-size: 14px;
+}
+.card_block .post-content .description {
+    display: none;
+    color: #666666;
+    font-size: 14px;
+    line-height: 1.8em;
+}
+.card_block .post-content .post-meta {
+    margin: 30px 0 0;
+    color: #999999;
+}
+.card_block .post-content .post-meta .timestamp {
+    margin: 0 16px 0 0;
+}
+.card_block .post-content .post-meta a {
+    color: #999999;
+    text-decoration: none;
+}
+
+.card_block .actions  {
+	margin-top:65px;
+}
+
+.card_block .actions_no_stats  {
+    margin-top:5px;
+}
+
+/******************************************************************************************************************
+   RANDOMNESS
+*******************************************************************************************************************/
+
+.radio_status {
+    text-align: center;
+}
+
+.radio_status label {
+    float: left;
+    clear: none;
+    display: block;
+}
+
+.radio_status input[type=radio], .radio_status input.radio {
+    float: left;
+    clear: none;
+    margin: 2px 0 0 2px;
+}
+
+.purchase_button {
+    padding:5px 10px;
+    font-weight:bold;
+    cursor:pointer; 
+    font-size:1.1em;
+    border: 3px solid #000;
+    width: 100px;
+}
+
+.purchase_button {
+    background-color:#31ad22;
+    width:230px;
+}
+
+.purchase_button:hover {
+    background-color:#6bda5e;
+}
+
+#register_box .register {
+    color: #fbff5f;
+    font-weight:bold;
+    text-decoration: underline;
+}
+
+#register_box .register:visited {
+    color: #00ff0b;
+    text-decoration: underline;
+}
+
+#register_box .register:hover {
+    color: #30e9ff;
+}
+
+
+
+.shopping_quantity_box {
+    font-size: 1em; 
+    background-color: #6696F7; 
+    border:#3E5C98 dashed 2px;
+    font-weight: bold;
+}
+
+.shopping_quantity_sold_out_box {
+    font-size: 1em;
+    color: #FFFFFF;
+    background-color: #2f2f2f;
+    border:#1d1d1d dashed 2px;
+    font-weight: bold;
+    padding:10px;
+    border-radius: 15px;
+    margin-top:30px;
+    margin-bottom:30px;
+}
+
+.shopping_container {
+	padding:10px;
+    background-color: #f5f766;
+    border:#98893e dashed 2px;
+    font-size:0.8em;
+}
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+.bordered_table {
+	border-collapse: collapse;
+	border: 1px solid #000;
+	width: 100%;
+}
+
+.bordered_table tr, .bordered_table th, .bordered_table td {
+	border: 1px solid #000;
+}
+
+.bordered_table td {
+   text-align: center;
+   padding:5px;
+}
+
+.profit { font-size: 20px; padding: 5px 0px; }
+
+.money {
+    border: 1px dashed #000; 
+    padding: 5px;
+    text-align:center;
+}
+
+.top_section { padding: 10px; }
+
+.nav_box a {
+	text-underline: none;
+}
+
+.vcenter{
+    background:#eee;
+    width: 150px;
+    height: 150px;
+}
+.vcenter:before {
+    content: " ";
+    display: inline-block;
+    height: 100%;
+    vertical-align: middle;
+    max-width: 0.001%; /* Just in case the text wrapps, you shouldn't notice it */
+}
+    
+.vcenter :first-child {
+    display:inline-block;
+    vertical-align:middle;
+    max-width: 99.999%;
+}
+
+.container {
+    padding: 10px;
+}
+
+.table_header {
+    background-color: #7a8020;
+    font-weight:bold;
+}
+
+
+.discontinued_row {
+    background-color: #8a3535;
+}
+
+.odd {
+    background-color: #358a37;
+}
+
 
-.neptuneForm .buttons.soda input[type="submit"],
-.neptuneForm .buttons.soda input[type="button"]{
-	background: #3c528e;
-	color: #D2E2FF;
+.even {
+    background-color: #49bb4c;
 }
 
-.neptuneForm .buttons.snack input[type="submit"],
-.neptuneForm .buttons.snack input[type="button"]{
-	background: #8e3f42;
-	color: #ffdbe0;
+.red_price {
+    color:#b50505;
+    text-decoration:line-through;
+    margin-right:5px;
 }
 
-.neptuneForm .buttons input[type="submit"],
-.neptuneForm .buttons input[type="button"]{
-	background: #8e8d59;
-	color: #feffcf;
+
+
+
+.price_text {
+    font-size: 22px;
+    position: absolute;
+    top: 20px;
+    right: 20px;
+    padding: 12.5px 0;
+    color: #FFFFFF;
+    font-weight: 700;
+    text-align: center;
+    display:block;
 }
 
-.neptuneForm .buttons.soda input[type="submit"]:hover,
-.neptuneForm .buttons.soda input[type="button"]:hover{
-	background: #6B9FFF;
-	color:#fff;
+.price_background {
+    border: 2px solid #0e6d03;
+    z-index: 1;
+    background: #52af51;
+    width: 55px;
+    height: 55px;
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+     -webkti-box-sizing: border-box;
+    -moz-box-sizing: border-box;
+    box-sizing: border-box;
 }
 
-.neptuneForm .buttons.snack input[type="submit"]:hover,
-.neptuneForm .buttons.snack input[type="button"]:hover{
-	background: #ff5d65;
-	color:#fff;
+.quantity {
+    width: 30px;
+    height: 30px;
+    margin: 0px 10px;
+    background: none;
+    border: 1px solid #786450;
+    font-size: 12px;
+    font-weight: 600;
+    box-sizing: border-box;
+    transition: all .3s ease-in-out;
+    color: #786450;
+    display:block;
+    text-align:center;
+    padding: 5px;
+    font-size: 15px;
 }
 
-.neptuneForm .buttons input[type="submit"]:hover,
-.neptuneForm .buttons input[type="button"]:hover{
-	background: #fff552;
-	color: #7a7a7a;
+.fakeInput {
+    border: 1px solid #000000;
+    text-align: center;
 }
 
+
+
+
+
+
 @keyframes version_color {
     12.5% {
         background-color: #ff7b82;
@@ -655,74 +1204,7 @@ body {
     }
 }
 
-.post-module .post-content .report-label {
-    position: absolute;
-    bottom: 10px;
-    left: 0;
-    padding:5px 0px;
-    color: #000000;
-    text-align:center;
-    font-size: 10px;
-    font-weight: 600;
-    text-transform: uppercase;
-    width:100%;
-}
-
-.post-module .post-content .out_of_stock {
-    background: #e47b7b;
-}
-
-.post-module .post-content .running_low {
-    background: #e2e47b;
-}
-
-.post-module .post-content .category .quantity-left {
-    font-size: 18px;
-}
-
-.post-module .post-content .sold-out {
-    background-color: #232323;
-}
-
-.post-module .post-content .discontinued-soon {
-    background-color: #17134e;
-}
-
-.post-module .post-content .discontinued {
-    background-color: #940000;
-    color: #ffe06f;
-}
 
-.post-module .post-content .title {
-    margin: 0;
-    padding: 0 0 10px;
-    color: #333333;
-    font-size: 22px;
-    font-weight: 700;
-}
-.post-module .post-content .sub_title {
-    margin: 0;
-    padding: 0 0 20px;
-    color: #e74c3c;
-    font-size: 14px;
-}
-.post-module .post-content .description {
-    display: none;
-    color: #666666;
-    font-size: 14px;
-    line-height: 1.8em;
-}
-.post-module .post-content .post-meta {
-    margin: 30px 0 0;
-    color: #999999;
-}
-.post-module .post-content .post-meta .timestamp {
-    margin: 0 16px 0 0;
-}
-.post-module .post-content .post-meta a {
-    color: #999999;
-    text-decoration: none;
-}
 .hover .post-content .description {
     display: block !important;
     height: auto !important;
@@ -809,88 +1291,15 @@ body {
     box-shadow: 10px 10px 15px 0 rgba(0, 0, 0, 0.3);
 }
 
-.profile {
-    float: left;
-    width: 200px;
-    height: 320px;
-    text-align: center;
-}
-.profile .image {
-    position: relative;
-    width: 70px;
-    height: 70px;
-    margin: 38px auto 0 auto;
-}
-.profile .image .circle-1, .profile .image .circle-2 {
-    position: absolute;
-    box-sizing: border-box;
-    width: 76px;
-    height: 76px;
-    top: -3px;
-    left: -3px;
-    border-width: 1px;
-    border-style: solid;
-    border-color: #786450 #786450 #786450 transparent;
-    border-radius: 50%;
-    transition: all 1.5s ease-in-out;
-}
-.profile .image .circle-2 {
-    width: 82px;
-    height: 82px;
-    top: -6px;
-    left: -6px;
-    border-color: #786450 transparent #786450 #786450;
-}
-.profile .image img {
-    display: block;
-    border-radius: 50%;
-    background: #F5E8DF;
-}
-.profile .image:hover {
-    cursor: pointer;
-}
-.profile .image:hover .circle-1, .profile .image:hover .circle-2 {
-    -webkit-transform: rotate(360deg);
-    transform: rotate(360deg);
-}
-.profile .image:hover .circle-2 {
-    -webkit-transform: rotate(-360deg);
-    transform: rotate(-360deg);
-}
-.profile .name {
-    font-size: 15px;
-    font-weight: 600;
-    margin-top: 20px;
-}
-.profile .job {
-    font-size: 11px;
-    line-height: 15px;
-}
-
-.post-module .actions  {
-	margin-top:65px;
-}
-
-.post-module .actions_no_stats  {
-    margin-top:5px;
-}
 
-.post-module .actions .btn-snack, .post-module .actions_no_stats .btn-snack {
-    border: 1px solid #522727;
-    color: #961818;
-}
 
-.post-module .actions .btn-soda, .post-module .actions_no_stats .btn-soda {
-    border: 1px solid #272e52;
-    color: #064984;
-}
 
-.post-module .actions .btn-disabled, .post-module .actions_no_stats .btn-disabled {
+.quantity_button_disabled {
     opacity:0.25;
     border: 1px solid #000000;
 }
 
-.post-module .actions .btn, .post-module .actions_no_stats .btn {
+.quantity_button {
     width: 120px;
     height: 30px;
     margin: 0 auto 10px auto;
@@ -901,15 +1310,8 @@ body {
     transition: all .3s ease-in-out;
     cursor:pointer;
 }
-.post-module .actions .btn-snack:hover, .post-module .actions_no_stats .btn-snack:hover {
-    background: #7b3e3b;
-    color: #fff;
-}
 
-.post-module .actions .btn-soda:hover, .post-module .actions_no_stats .btn-soda:hover {
-    background: #3b587b;
-    color: #fff;
-}
+
 
 .stats {
     float: left;
@@ -981,7 +1383,7 @@ body {
     -ms-box-shadow: 0 0px 40px 0px rgba(0, 0, 0, 0.50);
 }
 
-.rounded_header {
+.page_header {
 	font-family: "Roboto",Arial;
     color: #2b2a2a;
     background-color: #ecebeb;
@@ -1005,7 +1407,7 @@ body {
     background-color: #40733a;
 }
 
-.rounded_header .title {
+.page_header .title {
     font-size:26px;	
 }
 
@@ -1376,13 +1778,7 @@ body {
     display: none;
 }
 
-.fancy .checkbox_label {
-    display: inline-block;
-}
 
-.fancy .checkbox {
-    display: inline-block;
-}
 
 #preferences_form {
     width:600px;
@@ -1449,65 +1845,7 @@ body {
     overflow: hidden;
 }
 
-/* The Modal (background) */
-.neptuneModal {
-    display: none; /* Hidden by default */
-    position: fixed; /* Stay in place */
-    z-index: 1; /* Sit on top */
-    left: 0;
-    top: 0;
-    width: 100%; /* Full width */
-    height: 100%; /* Full height */
-    overflow: auto; /* Enable scroll if needed */
-    background-color: rgb(0,0,0); /* Fallback color */
-    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
-    text-align: center;
-}
-
-/* Modal Content/Box */
-.neptuneModalContent {
-    background-color: #fefefe;
-    /*padding: 20px;*/
-    border: 1px solid #888;
-    display: inline-block;
-    position: relative;
-    top: 60px;
-}
-
-.neptuneTitleBar.soda {
-    background-color: #3c528e;
-    color: #D2E2FF;
-}
-
-.neptuneTitleBar.snack {
-    background-color: #8e333f;
-    color: #ffbfb8;
-}
-
-.neptuneTitleBar {
-    text-align: center;
-    padding: 5px;
-    font-weight: bold;
-    background-color: #8e8136;
-    color: #e2dbb2;
-}
-
-/* The Close Button */
-.neptuneModalClose {
-    color: #aaa;
-    font-size: 28px;
-    font-weight: bold;
-    position: absolute;
-    top: 0px;
-    right: 5px;
-}
 
-.neptuneModalClose:hover,
-.neptuneModalClose:focus {
-    color: black;
-    text-decoration: none;
-    cursor: pointer;
-}
 
 .admin_header_column {
     font-family: Arial, Helvetica, sans-serif;
@@ -1545,37 +1883,7 @@ body {
     display: none;
 }
 
-.snack_body .stat_box {
-    background-color:#3a0b0f;
-    color: #b67d52;
-    /*border-left: 2px solid #653f3d;*/
-    /*border-right: 2px solid #653f3d;*/
-    /*border-bottom: 2px solid #653f3d;*/
-}
-
-.snack_body .version_box {
-    /*border-left: 2px solid #653f3d;*/
-    /*border-bottom: 2px solid #653f3d;*/
-    background-color: #28090c;
-    color: #864949;
-    font-size: 1.0em;
-}
-
-.soda_body .stat_box {
-    background-color:#0b233a;
-    color: #497886;
-    /*border-left: 2px solid #466282;*/
-    /*border-right: 2px solid #466282;*/
-    /*border-bottom: 2px solid #466282;*/
-}
 
-.soda_body .version_box {
-    /*border-left: 2px solid #466282;*/
-    /*border-bottom: 2px solid #466282;*/
-    background-color: #091528;
-    color: #265a78;
-    font-size: 1.0em;
-}
 
 
 .version_box a {
@@ -1585,15 +1893,15 @@ body {
     font-size: 1.2em;
 }
 
-.snack_body .version_box a:visited {
+.version_box a:visited {
 	color: #d9ce56;
 }
 
-.soda_body .version_box a:visited {
+.version_box a:visited {
 	color: #d9ce56;
 }
 
-.snack_body .version_box a:hover, .soda_body .version_box a:hover {
+.version_box a:hover, .version_box a:hover {
     color: #f6f115;
 }
 
diff --git a/foodstock.php b/foodstock.php
index 0b9a224..f784721 100644
--- a/foodstock.php
+++ b/foodstock.php
@@ -5,6 +5,7 @@ include( "appendix.php" );
 
 function main( $url, $itemType, $className, $location ) {
     include( HEADER_PATH );
+    include_once( UI_FUNCTIONS_PATH );
 ?>
 
 <script>
@@ -59,13 +60,11 @@ function main( $url, $itemType, $className, $location ) {
 
 
         if( newQuantity == 1 ) {
-            $('#remove_button_' + itemID).removeClass('btn-disabled');
-            $('#remove_button_' + itemID).addClass('btn- <? echo $itemType; ?>');
+            $('#remove_button_' + itemID).removeClass('quantity_button_disabled');
         }
 
         if( newQuantity == maxQuantity ) {
-            $('#add_button_' + itemID).addClass('btn-disabled');
-            $('#add_button_' + itemID).removeClass('btn- <? echo $itemType; ?>');
+            $('#add_button_' + itemID).addClass('quantity_button_disabled');
         }
         
         $.post("<?php echo AJAX_LINK; ?>", { 
@@ -99,13 +98,11 @@ function main( $url, $itemType, $className, $location ) {
         $('#quantity_holder_' + itemID).html( newQuantity );
 
         if( newQuantity == 0 ) {
-            $('#remove_button_' + itemID).addClass('btn-disabled');
-            $('#remove_button_' + itemID).removeClass('btn- <? echo $itemType; ?>');
+            $('#remove_button_' + itemID).addClass('quantity_button_disabled');
         }
 
         if( newQuantity == maxQuantity - 1 ) {
-            $('#add_button_' + itemID).removeClass('btn-disabled');
-            $('#add_button_' + itemID).addClass('btn- <? echo $itemType; ?>');
+            $('#add_button_' + itemID).removeClass('quantity_button_disabled');
         }
         
         $.post("<?php echo AJAX_LINK; ?>", { 
@@ -173,9 +170,9 @@ $results = $statement->execute();
 // BUILD TOP SECTION STATS
 //---------------------------------------
 
-$version = "7.2";
+$version = getHolidayVersion( "7.3" );
 $versionString = "Version $version";
-$versionDateString = "(Feb 17th, 2020)";
+$versionDateString = "(Feb 23rd, 2020)";
 
 $row = $results->fetchArray();
 $siteIncome = $row['SiteIncome']; // The amount of money that SHOULD be coming in
@@ -224,7 +221,9 @@ if(  !IsLoggedIn() || $_SESSION['ShowTrending'] == 1 ) {
     $trendingStatement = $db->prepare("SELECT p.itemID, i.Name, count(p.ItemID) as Amount, max(p.Date), i.Type, i.ImageURL " .
         "FROM Purchase_History p " .
         "JOIN Item i on p.ItemID = i.ID " .
-        "WHERE p.Date > :startTrendingHour and p.Date < :stopTrendingHour and i.Type = :itemType group by p.ItemID order by count(p.itemID) desc");
+        "WHERE p.Date > :startTrendingHour and p.Date < :stopTrendingHour and i.Type = :itemType " .
+        "GROUP BY p.ItemID " .
+        "ORDER BY count(p.itemID) desc, MAX(p.Date) desc ");
     $trendingStatement->bindValue( ":startTrendingHour", date('Y-m-d' ) . " 00:00:00" );
     $trendingStatement->bindValue( ":stopTrendingHour", date('Y-m-d' ) . " 23:59:59" );
     $trendingStatement->bindValue( ":itemType", $itemType );
@@ -369,7 +368,7 @@ if( $itemType != "Snack" && $showShelf ) {
 echo "<input placeholder='Search Items' autofocus type='text' style='padding:5px; border-radius:20px; font-size:1.6em;' onkeyup= \"updateCardArea('$itemType', '$className', '$location', this.value );\"/>";
 
 echo "<div id='card_area'>";
-echo "<script>updateCardArea('$itemType', '$className', '$location', '' );</script>";
+buildCardArea( $db, $itemType, $className, $location, "" );
 echo "</div>";
 
 
@@ -425,7 +424,7 @@ echo "<div style='clear:both;'></div>";
 $milestoneClass= "background-color: #f1ff1a; padding:5px; margin: 20px 0px; border:solid 3px #8c8e1d;";
 
 echo "<div id='change_log_container'>";
-echo "<div id='change_log' class='rounded_header'><span class='title'>Change Log <span style='font-size: 0.7em; margin-left: 20px;'>(<span style='$requestClass'>Requests in Purple</span> | <span style='$adminClass'>Admin Changes in Red</span> | <span style='$dbClass'>Database and Server Changes in Green</span> | <span style='$bugClass'>Bug Fixes in Orange</span>)</span></span></div>";
+echo "<div id='change_log' class='page_header'><span class='title'>Change Log <span style='font-size: 0.7em; margin-left: 20px;'>(<span style='$requestClass'>Requests in Purple</span> | <span style='$adminClass'>Admin Changes in Red</span> | <span style='$dbClass'>Database and Server Changes in Green</span> | <span style='$bugClass'>Bug Fixes in Orange</span>)</span></span></div>";
 echo "<ul style='margin:0px 40px 0px 0px; list-style-type: none;'>";
 
 
@@ -439,7 +438,25 @@ echo "<ul style='margin:0px 40px 0px 0px; list-style-type: none;'>";
 
 // <div>Icons made by <a href="https://www.flaticon.com/authors/roundicons" title="Roundicons">Roundicons</a> from <a href="https://www.flaticon.com/" 			    title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" 			    title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>
 
-DisplayUpdate("Feb 17, 2019 (7.2)", $itemType, array(
+DisplayUpdate("Feb 23, 2020 (7.3)", $itemType, array(
+    DisplayItem("request", "Automatic themes are in place (St Patricks Day, April Fools, Christmas)"),
+    DisplayItem("request", "Increased database timeout to 15 seconds to prevent database locked errors."),
+    DisplayItem("request", "Changed text inputs to textareas for request modals."),
+    DisplayItem("request", "Warm sodas are now indicated with a red border along with the temperature icon."),
+    DisplayItem("request", "Added 'Mug Total' to bottom of inventory spreadsheet."),
+    DisplayItem("request", "Ordered inventory modal items by alphabetic order to match spreadsheet."),
+    DisplayItem("request", "Made 'Register' link more obvious with green text and underline."),
+    DisplayItem("request", "In Payments page color the total amounts yellow if greater than zero. Added total credits to explain straight zero amounts for months."),
+    DisplayItem("request", "No longer loading the cards via JS on load. Prevents that 'page jump' you saw as the JS did the replace."),
+    DisplayItem("request", "On purchase history hide profit if retail cost is $0 (before the retail cost tracking)."),
+    DisplayItem("request", "If two items are both the current most selling with the same amount, the most recent will show in trending."),
+    DisplayItem("request", "Fixed rounding issues with Vendor HQ."),
+    DisplayItem("request", "No longer showing the user's total balance in the receipts sent to the vendors."),
+    DisplayItem("request", "Discontinued items are shown in defect modal now."),
+    DisplayItem("request", "More reorganization of the CSS."),
+) );
+
+DisplayUpdate("Feb 17, 2020 (7.2)", $itemType, array(
     DisplayItem("request", "Foodstock has its first employee! The vendor HQ allows others to add/replenish/sell items through foodstock while giving a small commission to me. Permissions were rewritten to show admin pages for vendors. New side navigation for vendor. Vendor seller shown in cards and purchase history."),
     DisplayItem("none", "New modal styles with help-text."),
     DisplayItem("none", "Removed goal bar - fridge was bought by Santa (it was probably RSA)."),
diff --git a/functions/action_functions.php b/functions/action_functions.php
index 4fcfc36..a1b364d 100644
--- a/functions/action_functions.php
+++ b/functions/action_functions.php
@@ -620,7 +620,7 @@ function refillItem( $db, $isTest, $itemID_all, $addToShelf_all, $sendToSlack, $
 
         sendSlackMessageToRandom($slackMessage, $emoji, $itemType. "Stock - $refillLabel" );
 
-        $subscribeStatement = $db->prepare("SELECT SlackID, UserName FROM User where SubscribeRestocks = 1" );
+        $subscribeStatement = $db->prepare("SELECT SlackID, UserName FROM User where SubscribeRestocks = 1 AND Inactive != 1" );
         $subscribeResults = $subscribeStatement->execute();
 
         while( $row = $subscribeResults->fetchArray() ) {
@@ -916,7 +916,6 @@ function purchaseItems( $db, $isTest, $userID, $itemsInCart, $cashOnly )
     $currentSodaBalance = $userRow['SodaBalance'];
     $currentSnackBalance = $userRow['SnackBalance'];
     $inactiveUser = $userRow['Inactive'];
-    error_log("Inactive bought [$userID] $inactiveUser]" );
 
     if( $inactiveUser == 1 ) {
         return "You cannot purchase items while you are inactive!";
@@ -1136,11 +1135,12 @@ function purchaseItems( $db, $isTest, $userID, $itemsInCart, $cashOnly )
             $purchaseMessage = $purchaseMessage . "*Total Price:* " . getPriceDisplayWithDollars($totalPrice) . "\n";
         }
 
+        $balanceMessage = "";
         if (!$cashOnly) {
             $totalBalance = $currentSodaBalance + $currentSnackBalance;
-            $purchaseMessage = $purchaseMessage . "*Your Balance:* " . getPriceDisplayWithDollars($totalBalance) . "\n";
+            $balanceMessage = "*Your Balance:* " . getPriceDisplayWithDollars($totalBalance) . "\n";
         } else {
-            $purchaseMessage = $purchaseMessage . "*THIS PURCHASE WAS CASH-ONLY*\n";
+            $balanceMessage = "*THIS PURCHASE WAS CASH-ONLY*\n";
         }
 
         // Notify admin about purchase
@@ -1151,10 +1151,12 @@ function purchaseItems( $db, $isTest, $userID, $itemsInCart, $cashOnly )
         if( !$isTest ) {
             // Send receipts to the admin and vendors
             foreach( $vendorsToNotify as $vendorSlackID ) {
-                sendSlackMessageToUser($vendorSlackID, "*(" . strtoupper("$firstName $lastName") . ")*\n" . $purchaseMessage, ":shopping_trolley:", $itemType . "Stock - RECEIPT", "#3f5abb", $vendorSlackID );
+                // Send to vendors
+                sendSlackMessageToUser($vendorSlackID, "*(" . strtoupper("$firstName $lastName") . ")*\n" . $purchaseMessage, ":shopping_trolley:", $itemType . "Stock - RECEIPT", "#3f5abb", $vendorSlackID, false );
             }
 
-            sendSlackMessageToUser($slackID, $purchaseMessage, ":shopping_trolley:", $itemType . "Stock - RECEIPT", "#3f5abb", $userName );
+            // Send to the user
+            sendSlackMessageToUser($slackID, $purchaseMessage . $balanceMessage, ":shopping_trolley:", $itemType . "Stock - RECEIPT", "#3f5abb", $userName, false );
 
             $_SESSION["SodaBalance"] = $currentSodaBalance;
             $_SESSION["SnackBalance"] = $currentSnackBalance;
diff --git a/functions/holiday_functions.php b/functions/holiday_functions.php
index ae6add3..5fbac3d 100644
--- a/functions/holiday_functions.php
+++ b/functions/holiday_functions.php
@@ -1,7 +1,258 @@
 <?php
-/**
- * Created by PhpStorm.
- * User: Matt
- * Date: 2/20/2020
- * Time: 7:10 PM
- */
\ No newline at end of file
+define( "NONE", "NONE" );
+
+define( "CHRISTMAS", "CHRISTMAS" );
+define( "ST_PATRICKS_DAY", "ST_PATRICKS_DAY" );
+define( "APRIL_FOOLS", "APRIL_FOOLS" );
+
+$holiday = null;
+
+function buildHolidayCache() {
+    global $holiday;
+
+    if( $holiday == null ) {
+        $holiday = NONE;
+        testAndSetHoliday(CHRISTMAS, array("12/01/2020", "12/26/2020"));
+        testAndSetHoliday(ST_PATRICKS_DAY, array("03/10/2020", "03/17/2020"));
+        testAndSetHoliday(APRIL_FOOLS, array("04/01/2020", "04/01/2020"));
+    }
+}
+
+//---------------------------------------------------------
+// STYLYERS
+//---------------------------------------------------------
+
+function getHolidayClass( $class ) {
+    buildHolidayCache();
+
+    if( isDateHoliday( ST_PATRICKS_DAY ) ) {
+        $class = "patricks_" . $class;
+    } else if( isDateHoliday( APRIL_FOOLS ) ) {
+        $class = "fools_" . $class;
+    } else if( isDateHoliday( CHRISTMAS ) ) {
+        $class = "xmas_" . $class;
+    }
+
+    return $class;
+}
+
+function printHolidayUserSuffix() {
+    if( isDateHoliday( APRIL_FOOLS ) ) {
+        echo " - Amateur Hacker";
+    }
+}
+
+function getHolidayBalanceLabel() {
+    if( isDateHoliday( ST_PATRICKS_DAY ) ) {
+        return "Pot of Gold";
+    } else {
+        return "Balance";
+    }
+}
+
+function printPurchaseHistorySubtitle() {
+    if( isDateHoliday( APRIL_FOOLS ) ) {
+        echo "<div style='position:absolute; bottom: 0; left: 0; color: #7138ef;' class='total_details_box'><b>(Serious money business here so no fools on this page.)</b></div>";
+    }
+}
+
+function getHolidayVersion( $version ) {
+    if( isDateHoliday( APRIL_FOOLS ) ) {
+        return "Fools";
+    } else if( isDateHoliday( ST_PATRICKS_DAY ) ) {
+        return "St. Patricks ($version)";
+    } else if( isDateHoliday( CHRISTMAS ) ) {
+        return "Christmas ($version)";
+    } else {
+        return $version;
+    }
+}
+
+function getHolidayItemName( $itemName ) {
+    if( isDateHoliday( APRIL_FOOLS ) ) {
+        switch( $itemName ) {
+            case "Dr. Pepper": return "Lt. Pepper";
+            case "Ginger Ale": return "Gingeraid";
+            case "Pitch Black": return "Grape Mountain Dew";
+            case "Mountain Dew": return "Mountain Don't";
+            case "Vanilla Zero": return "Vanilla -1";
+            case "Polar Water": return "Polar Bear Water";
+            case "Barqs Root Beer": return "Bark's Root Bear";
+            case "Coke Zero": return "Coke Below Zero";
+            case "Sprite Zero": return "Sprite NaN";
+            case "Fun-Size Candy": return "Christian's Babe Ruths";
+            case "Slim Jim (Small Size)": return "Fat Jim (Small Size)";
+            case "Slim Jim (Foot Long Size)": return "Overweight Jim (Foot Long Size)";
+            case "Slim Jim (Monster Size)": return "Obese Jim (Monster Size)";
+            case "CheezIts": return "Cheezy Squares";
+            case "Spicy Doritos & Cheetos": return "Bitter Doritos & Cheetos";
+            case "Fruit Roll Up": return "Fruit Roll Down";
+            case "Muffins": return "Miniature Cakes";
+            default:
+                return $itemName;
+        }
+    } else {
+        return $itemName;
+    }
+}
+
+function getHolidayRequestItemName( $itemName ) {
+    if( isDateHoliday( APRIL_FOOLS ) ) {
+        switch( rand(1,10) ) {
+            case 1:
+                return "Noah and Reese was here.";
+            case 2:
+                return "Noah was here.";
+            case 3:
+                return "Reese was here.";
+            case 4:
+                return "Reese tripped Noah to get here.";
+            case 5:
+                return "Noah wins everything.";
+            case 6:
+                return "Reese > Noah.";
+            case 7:
+                return "Noah: Come at me bro.";
+            case 8:
+                return "Reese: I don't even work here anymore. Why do I care about this?";
+            case 9:
+                return "Noah shoved Reese to get here.";
+            case 10:
+                return "Christian: I'm just here for pizza and babe ruths.";
+        }
+    } else {
+        return $itemName;
+    }
+}
+function printHolidayPriceIcon( $price ) {
+    buildHolidayCache();
+
+    $smallPriceFont = "";
+    $priceBackground = "";
+
+    if( isDateHoliday( CHRISTMAS ) ) {
+        echo "<img style='position:absolute; top:14px; right:17px; z-index:200;' src='" . IMAGES_LINK . "wreath.png'/>";
+        $priceBackground = "price_background";
+    } else if( isDateHoliday( ST_PATRICKS_DAY ) ) {
+        echo "<img style='position:absolute; top:14px; right:7px; z-index:0; width:64px;' src='" . IMAGES_LINK . "clover.png'/>";
+    } else if( isDateHoliday( NONE ) ) {
+        $priceBackground = "price_background";
+    } else if( isDateHoliday( APRIL_FOOLS ) ) {
+        $priceBackground = "price_background";
+//        $smallPriceFont = "style='font-size: 0.98em; padding:17.5px 0px;'";
+
+        $randomPrice = "BUG";
+
+        switch( rand(1,10) ) {
+            case 1:
+                // Broken price
+                $randomPrice = "$" . rand(3, 999);
+                break;
+            case 2:
+                 // Question mark
+                $randomPrice = "???";
+                break;
+            case 3:
+                //Hour glass
+                $randomPrice = "&#8987;";
+                break;
+            case 4:
+                // Hotdog
+                $randomPrice = "&#127789;";
+                break;
+            case 5:
+                // Poop
+                $randomPrice = "&#128169;";
+                break;
+            case 6:
+                // Joker
+                $randomPrice = "&#127183;";
+                break;
+            case 7:
+                // NPE
+                $randomPrice = "NaN";
+                break;
+            case 8:
+                // Penguin
+                $randomPrice = "&#128039;";
+                break;
+            case 9:
+                $randomPrice = "&#129386;";
+                break;
+            case 10:
+                $randomPrice = "wrapping issues";
+                break;
+        }
+
+        echo "<div $smallPriceFont class='price_text price_background fools_price'>";
+        echo $randomPrice;
+        echo "</div>";
+    }
+
+    if( substr( $price, 0, 1 ) == "$" ) {
+        $smallPriceFont = "style='font-size: 0.9em; padding:17.5px 0px;'";
+    }
+
+    echo "<div $smallPriceFont class='price_text $priceBackground'>";
+    echo $price;
+    echo "</div>";
+
+}
+
+function printHolidayLights() {
+    buildHolidayCache();
+
+    if( isDateHoliday( CHRISTMAS ) ) {
+        echo "<ul style='top: 2px;' class='lightrope'>" .
+             "<li title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
+             "<li title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
+             "<li title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
+             "<li title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
+             "<li title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
+             "<li title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
+             "<li title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
+             "<li title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
+             "<li title='Break Me!' onclick=\"breakBulb(this);\"></li>" .
+             "</ul>";
+    }
+}
+
+//---------------------------------------------------------
+// TESTING FRAMEWORK
+//---------------------------------------------------------
+function testAndSetHoliday( $holidayLabel, $holidayDateRange ) {
+    global $holiday;
+    $today = new DateTime();
+
+    $startDate = null;
+    $endDate = null;
+    $isToday = false;
+
+    if( count( $holidayDateRange ) == 2 ) {
+        $startDate =  new DateTime( $holidayDateRange[0] );
+        $endDate =  new DateTime( $holidayDateRange[1] );
+    } else if( count( $holidayDateRange ) == 1 ) {
+        $startDate =  new DateTime( $holidayDateRange[0] );
+        $endDate =  new DateTime( $holidayDateRange[0] );
+    }
+
+    if( $startDate != null && $endDate != null ) {
+        // Add 1 day so it includes til midnight of next day
+        $endDate->add(new DateInterval('P1D' ) );
+
+//        error_log("Found [" . count( $holidayDateRange ) . "] dates. Comparing [" . date_format($today, 'Y-m-d H:i:s') . "] TODAY with [" . date_format($startDate, 'Y-m-d H:i:s') . "] - [" . date_format($endDate, 'Y-m-d H:i:s') . "]" );
+        $isToday = $today >= $startDate && $today <= $endDate;
+    } else {
+//        error_log("Holiday has too many ranges [$holidayDateRange].");
+    }
+
+    if( $isToday ) {
+        $holiday = $holidayLabel;
+    }
+}
+
+function isDateHoliday( $testHoliday ) {
+    global $holiday;
+
+    return $testHoliday == $holiday;
+}
\ No newline at end of file
diff --git a/functions/ui_functions.php b/functions/ui_functions.php
index f1f05bd..517adb0 100644
--- a/functions/ui_functions.php
+++ b/functions/ui_functions.php
@@ -161,6 +161,9 @@ function getTotalsForUser( $db, $userID, $monthNumber, $year, $monthLabel ) {
     $currentMonthSodaTotal = 0.0;
     $currentMonthSnackTotal = 0.0;
 
+    $currentMonthSodaCreditTotal = 0.0;
+    $currentMonthSnackCreditTotal = 0.0;
+
     $query = "SELECT i.Name, i.Type, p.Cost as LegacyPrice, p.CashOnly, p.UseCredits, p.DiscountCost as LegacyDiscountPrice, p.Date, p.UserID, p.ItemDetailsID, d.Price, d.DiscountPrice " .
         "FROM Purchase_History p " .
         "JOIN Item i on p.itemID = i.ID " .
@@ -178,6 +181,7 @@ function getTotalsForUser( $db, $userID, $monthNumber, $year, $monthLabel ) {
     while ($row = $results->fetchArray()) {
 
         $itemDetailsID =  $row['ItemDetailsID'];
+        $itemType =  $row['Type'];
 
         $discountCost = $row['LegacyDiscountPrice'];
         $fullCost = $row['LegacyPrice'];
@@ -196,17 +200,24 @@ function getTotalsForUser( $db, $userID, $monthNumber, $year, $monthLabel ) {
         // Only purchases that WERE NOT cash-only go towards the total - because they already paid in cash
         if( $row['CashOnly'] != 1 ) {
 
-            $finalCost = $cost;
+            $creditsUsed = $row["UseCredits"];
+            $finalCostNotIncludingCredits = $cost;
 
             // Purchases that used credits might affect what was actually for balance
-            if( $row['UseCredits'] > 0 ) {
-                $finalCost -= $row["UseCredits"];
+            if( $creditsUsed > 0 ) {
+                $finalCostNotIncludingCredits -= $creditsUsed;
+
+                if( $itemType == "Snack" ) {
+                    $currentMonthSnackCreditTotal += $creditsUsed;
+                } else if( $itemType == "Soda" ) {
+                    $currentMonthSodaCreditTotal += $creditsUsed;
+                }
             }
 
-            if( $row['Type'] == "Snack" ) {
-                $currentMonthSnackTotal += $finalCost;
-            } else if( $row['Type'] == "Soda" ) {
-                $currentMonthSodaTotal += $finalCost;
+            if( $itemType == "Snack" ) {
+                $currentMonthSnackTotal += $finalCostNotIncludingCredits;
+            } else if($itemType == "Soda" ) {
+                $currentMonthSodaTotal += $finalCostNotIncludingCredits;
             }
         }
     }
@@ -232,6 +243,8 @@ function getTotalsForUser( $db, $userID, $monthNumber, $year, $monthLabel ) {
     $returnArray = array();
     $returnArray['SodaTotal'] = $currentMonthSodaTotal;
     $returnArray['SnackTotal'] = $currentMonthSnackTotal;
+    $returnArray['SodaCreditTotal'] = $currentMonthSodaCreditTotal;
+    $returnArray['SnackCreditTotal'] = $currentMonthSnackCreditTotal;
     $returnArray['SodaPaid'] = $sodaTotalPaid;
     $returnArray['SnackPaid'] = $snackTotalPaid;
 
@@ -315,4 +328,351 @@ function drawCheckListRow( $isBought, $itemID, $itemName, $itemType, $shelfQuant
     echo "<td style='color:$typeColor'>$backstockQuantity</td>";
 
 }
+
+/**
+ * @param $db SQLite3
+ * @param $itemType
+ * @param $className
+ * @param $location
+ * @param $itemSearch
+ * @throws Exception
+ */
+function buildCardArea( $db, $itemType, $className, $location, $itemSearch ) {
+    error_log("Entering with [$itemType] [$className] [$location] [$itemSearch]" );
+    $nameQuery = "";
+
+    if( $itemSearch != "" ) {
+        $nameQuery = " AND ( Name Like :nameSearch OR Alias Like :aliasSearch)";
+    }
+
+    $cardQuery = "SELECT ID, Name, Date, TotalCans, " . getQuantityQuery() .
+    ",Price, ItemIncome, ItemExpenses, ItemProfit, DateModified, " .
+    "Retired, ImageURL, ThumbURL, UnitName, UnitNamePlural, DiscountPrice, CurrentFlavor, RefillTrigger, OutOfStockReporter, OutOfStockDate, u.FirstName " .
+    "FROM Item i " .
+    "LEFT JOIN User u ON i.VendorID = u.UserID " .
+    "WHERE Type = :itemType " .$nameQuery . " AND Hidden != 1 " .
+    "ORDER BY Retired, BackstockAmount DESC, ShelfAmount DESC";
+
+
+    if( IsLoggedIn() ) {
+        // Sort by user preference
+        // This sort pretty much breaks them into 3 groups (bought ones at #1, discontinued at #3, the rest at #2) and sorts those 3,
+        // then inside those groups it sorts by frequency, then shelf, then backstock
+        $cardQuery = "SELECT ID, VendorID, Name, Date, TotalCans, " . getQuantityQuery() .
+        ",Price, ItemIncome, ItemExpenses, ItemProfit, DateModified, " .
+        "Retired, ImageURL, ThumbURL, UnitName, UnitNamePlural, (SELECT count(*) FROM Purchase_History p WHERE p.UserID = " . $_SESSION["UserID"] .
+        " AND p.ItemID = i.ID AND p.Cancelled IS NULL) as Frequency, DiscountPrice, CurrentFlavor, RefillTrigger, OutOfStockReporter, OutOfStockDate, u.FirstName " .
+        "FROM Item i " .
+        "LEFT JOIN User u ON i.VendorID = u.UserID " .
+        "WHERE Type = :itemType " .$nameQuery . " AND Hidden != 1 " .
+        "ORDER BY CASE WHEN Retired = 1 AND ShelfAmount = 0 THEN '3' WHEN Frequency > 0 AND Retired = 0 THEN '1'  ELSE '2' END ASC, Frequency DESC, ShelfAmount DESC, BackstockAmount DESC";
+    }
+
+    $statement = $db->prepare( $cardQuery );
+    $statement->bindValue( ":nameSearch", "%" .$itemSearch . "%" );
+    $statement->bindValue( ":aliasSearch", "%" .$itemSearch . "%" );
+    $statement->bindValue( ":itemType", $itemType );
+    $results = $statement->execute();
+
+    //---------------------------------------
+    // BUILD ITEM CARDS
+    //---------------------------------------
+    $columnNumber = 1;
+    while ($row = $results->fetchArray()) {
+        $item_id = $row['ID'];
+        $retired_item = $row['Retired'];
+
+        $shelfAmount = $row['ShelfAmount'];
+        $backstockAmount = $row['BackstockAmount'];
+
+        $hideDiscontinued = true;
+
+        if (isset($_SESSION['ShowDiscontinued']) && $_SESSION['ShowDiscontinued'] != 0) {
+            $hideDiscontinued = false;
+        }
+
+        if ($retired_item == 1 && $hideDiscontinued && $shelfAmount == 0) {
+            continue;
+        }
+
+        $outOfStock = $row['RefillTrigger'];
+        $outOfStockReporter = $row['OutOfStockReporter'];
+
+        $item_name = $row['Name'];
+        $supplierName = $row['FirstName'];
+
+        $price = $row['Price'];
+        $originalPrice = $price;
+        $discountPrice = $row['DiscountPrice'];
+        $imageURL = $row['ImageURL'];
+        $hasDiscount = false;
+
+        if (IsLoggedIn() && $discountPrice != "") {
+            $price = $discountPrice;
+            $hasDiscount = true;
+        }
+
+        $price_color = "#FFFFFF";
+        $price_background_color = "#025F00";
+
+        // On sale - YELLOW
+        if ($price < 50) {
+            $price_color = "#000000";
+            $price_background_color = "#FFD500";
+            // Expensive - RED
+        } else if ($price > 100) {
+            $price_color = "#FFFFFF";
+            $price_background_color = "#5f0000";
+        }
+
+        $priceDisplay = "";
+
+        if (IsLoggedIn() && $hasDiscount == true) {
+            $priceDisplay = getPriceDisplayWithSymbol($discountPrice);
+        } else {
+            $priceDisplay = getPriceDisplayWithSymbol($price);
+        }
+
+        $unitName = "item";
+        $unitNamePlural = "items";
+
+        if ($row['UnitName'] != "") {
+            $unitName = $row['UnitName'];
+        }
+
+        if ($row['UnitNamePlural'] != "") {
+            $unitNamePlural = $row['UnitNamePlural'];
+        }
+
+        $unitNameFinal = $shelfAmount > 1 ? $unitNamePlural : $unitName;
+
+        $amountLeft = "N/A";
+        $quantityBoxClass = "";
+        $statusClass = "";
+        $thumbnailSoldOutClass = "";
+        $buttonClass = "";
+        $refilledClass = "";
+
+        $justRefilled = false;
+
+        if ($row['DateModified'] != null) {
+            $lastRefilled = DateTime::createFromFormat('Y-m-d H:i:s', $row['DateModified']);
+            $now = new DateTime();
+
+            $timeSinceLastRefill = $now->diff($lastRefilled);
+
+            $minutesSinceLastRefill = ($timeSinceLastRefill->d * 24 * 60) + ($timeSinceLastRefill->h * 60) + $timeSinceLastRefill->i;
+
+            $justRefilled = $minutesSinceLastRefill <= 120 && $itemType == "Soda";
+        }
+
+        if ($justRefilled) {
+            $refilledClass = "refilled";
+        }
+
+        if ($retired_item == 1) {
+            if ($shelfAmount == 0) {
+                $amountLeft = "Discontinued";
+                $quantityBoxClass = "quantity_box_discontinued";
+                $statusClass = "card_block_discontinued";
+                $buttonClass = "quantity_button_disabled";
+            } else {
+                $quantityBoxClass = "quantity_box_discontinued_soon";
+                $amountLeft = "<div><span>$shelfAmount</span> $unitNameFinal Left</div>" .
+                    "<div style='font-size: 0.8em; font-weight:bold; margin-top:5px; color:#ffe000'>(discontinued soon)</div>";
+            }
+        } else {
+            if ($shelfAmount == 0) {
+                $amountLeft = "SOLD OUT";
+                $quantityBoxClass = "quantity_box_sold_out";
+                $thumbnailSoldOutClass = "thumbnail_sold_out";
+                $buttonClass = "quantity_button_disabled";
+            } else {
+                $amountLeft = "<span>$shelfAmount</span> $unitNameFinal Left";
+            }
+        }
+
+        echo "<input id='shelf_quantity_" . $item_id . "' type='hidden' value='" . $shelfAmount . "'/>";
+
+        $statementPopularity = $db->prepare('SELECT ItemID, Date FROM Restock where ItemID = :itemID ORDER BY Date DESC');
+        $statementPopularity->bindValue(":itemID", $row['ID']);
+        $resultsPopularity = $statementPopularity->execute();
+
+        $firstDate = "";
+        $lastDate = "";
+        $totalPurchases = 0;
+        while ($rowPopularity = $resultsPopularity->fetchArray()) {
+            if ($firstDate == "") {
+                $firstDate = $rowPopularity[1];
+            }
+            $lastDate = $rowPopularity[1];
+            $totalPurchases++;
+        }
+
+        $date_before = DateTime::createFromFormat('Y-m-d H:i:s', $firstDate);
+        $date_after = DateTime::createFromFormat('Y-m-d H:i:s', $lastDate);
+
+        $days_ago = 0;
+
+        if ($firstDate != "" && $lastDate != "") {
+            if ($firstDate == $lastDate) {
+                $date_after = new DateTime();
+            }
+
+            $time_since = $date_before->diff($date_after);
+            $days_ago = $time_since->format('%a');
+        }
+
+        $frequencyBought = "0";
+        $purchaseDayInterval = "N/A";
+
+        if (isset($row['Frequency'])) {
+            $frequencyBought = $row['Frequency'];
+        }
+
+        if ($totalPurchases > 0) {
+            $purchaseDayInterval = round($days_ago / $totalPurchases);
+        }
+
+        $previewImage = "";
+
+
+        if ($imageURL != "") {
+            $previewImage = "<img class='preview_zoom' src='" . PREVIEW_IMAGES_NORMAL . $imageURL . "' />";
+        } else {
+            $previewImage = "<img class='preview_zoom' style='width: 100px; height: 100px; padding-top:70px;' src='" . IMAGES_LINK . "no_image.png' />";
+        }
+
+        $total_can_sold = $row['TotalCans'] - ($backstockAmount + $shelfAmount);
+
+        $statementDefect = $db->prepare("SELECT Sum(Amount) as 'TotalDefect' From Defectives where ItemID = :itemID");
+        $statementDefect->bindValue(":itemID", $row['ID']);
+        $resultsDefect = $statementDefect->execute();
+
+        $rowDefect = $resultsDefect->fetchArray();
+        $totalDefects = $rowDefect['TotalDefect'];
+
+        $total_can_sold = $total_can_sold - $totalDefects;
+
+
+        $reportButton = "";
+        if (IsLoggedIn() && !IsInactive() && $outOfStock != "1") {
+            $userName = $_SESSION['FirstName'] . " " . $_SESSION['LastName'];
+            $reportButton = "<div style='position: absolute; right: 10px; top:-42px; cursor:pointer;' onclick='reportItemOutOfStock(\"$userName\"," . $row['ID'] . ",\"" . $row['Name'] . "\")'><img src='" . IMAGES_LINK . "low.png' title='Report Item Out of Stock'/></div>";
+        }
+
+        $outOfStockLabel = "";
+        if ($outOfStock == "1") {
+            $reportType = "out of stock";
+            $reportClass = "out_of_stock";
+            if ($outOfStockReporter == "StockBot") {
+                if ($shelfAmount > 0) {
+                    $reportType = "running low";
+                    $reportClass = "running_low";
+                }
+            }
+
+            $outOfStockLabel = "<div class='report-label $reportClass'>Reported as $reportType by " . $outOfStockReporter . "!</div>";
+        }
+
+        // ------------------
+        // BUILD THE CARD
+        // ------------------
+        echo "<span class='card_block $statusClass $refilledClass'>";
+//                 echo "<div class='snow'>";
+        echo "<div class='thumbnail $thumbnailSoldOutClass'>";
+        printHolidayPriceIcon($priceDisplay);
+        echo $previewImage;
+        echo "</div>";
+        echo "<div class='post-content'>";
+        echo $reportButton;
+
+        if ($justRefilled) {
+            echo "<div style='position: absolute; right: 10px; top:-80px;'><img src='" . IMAGES_LINK . "thermometer.png' title='This item was added to the fridge $minutesSinceLastRefill minutes ago and might not be cold yet.'/></div>";
+        }
+
+        echo "$outOfStockLabel";
+        echo "<div class='quantity_box $quantityBoxClass'><span class='quantity_text'>$amountLeft</span></div>";
+
+        if ($supplierName != "") {
+            echo "<div title='This item is being sold by $supplierName through FoodStock' class='supplier'>Sold by $supplierName</div>";
+        }
+
+        echo "<h1 class='title'>" . getHolidayItemName($row['Name']) . "</h1>";
+
+        $currentFlavor = $row['CurrentFlavor'];
+        if ($currentFlavor != "") {
+            echo "<h1 class='sub_title'><u>Current Flavor:</u> <i>$currentFlavor</i></h1>";
+        }
+
+        $income = $row['ItemIncome'];
+        $expense = $row['ItemExpenses'];
+        $profit = $row['ItemProfit'];
+
+        $profitClass = $profit > 0 ? "income" : "expenses";
+
+        $actionsClass = "actions_no_stats";
+
+        $showItemStats = true;
+        if (isset($_SESSION['ShowShelf']) && $_SESSION['ShowItemStats'] == 0) {
+            $showItemStats = false;
+        }
+
+        if ($showItemStats) {
+            $actionsClass = "actions";
+
+            if (IsAdminLoggedIn()) {
+
+                echo "<div class='stats'>";
+                echo "<span class='box box-expenses' title='Total Expenses'>";
+                echo "<span class='value'>" . getPriceDisplayWithDollars($expense) . "</span>";
+                echo "<span class='parameter'>Expenses</span>";
+                echo "</span>";
+
+                echo "<span style='border: 2px solid #000;' class='box box-$profitClass' title='Total Profit'>";
+                echo "<span class='value'>" . getPriceDisplayWithDollars($profit) . "</span>";
+                echo "<span class='parameter'>Profit</span>";
+                echo "</span>";
+
+                echo "<span class='box box-income' title='Total Income'>";
+                echo "<span class='value'>" . getPriceDisplayWithDollars($income) . "</span>";
+                echo "<span class='parameter'>Income</span>";
+                echo "</span>";
+                echo "</div>";
+            }
+
+            echo "<div class='stats'>";
+            echo "<span class='box box-$profitClass' title='You have bought this x times.'>";
+            echo "<span class='value'>$frequencyBought</span>";
+            echo "<span class='parameter'>Purchases</span>";
+            echo "</span>";
+
+            echo "<span class='box box-$profitClass' title='Restocked every x days.'>";
+            echo "<span class='value'>$purchaseDayInterval</span>";
+            echo "<span class='parameter'>Days</span>";
+            echo "</span>";
+
+            echo "<span class='box box-$profitClass' title='Total of x units sold.'>";
+            echo "<span class='value'>$total_can_sold</span>";
+            echo "<span class='parameter'>Total Sold</span>";
+            echo "</span>";
+            echo "</div>";
+        }
+
+        if (IsLoggedIn() && !IsInactive()) {
+            echo "<div class='$actionsClass'>";
+            echo "<button id='add_button_" . $row['ID'] . "' onclick='addItemToCart(" . $row['ID'] . ")' style='float:right;' class='quantity_button $buttonClass' title='Add item(s)'>Add</button>";
+            echo "<span style='float:right;' class='quantity' id='quantity_holder_" . $row['ID'] . "'>0</span>";
+            echo "<button id='remove_button_" . $row['ID'] . "' onclick='removeItemFromCart(" . $row['ID'] . ")' style='float:left;' class='quantity_button_disabled quantity_button' title='Remove item(s)'>Remove</button>";
+            echo "</div>"; //actions
+        }
+        echo "</div>"; //post-content
+
+        echo "<div>Something</div>";
+
+        printHolidayLights();
+
+        echo "</span>"; //card_block
+    }
+}
 ?>
\ No newline at end of file
diff --git a/help.php b/help.php
index 13ae3c9..dfc9c2b 100644
--- a/help.php
+++ b/help.php
@@ -7,14 +7,14 @@
 ?>
 
 <div id='container'>
-    <div class='rounded_header'><span  class='title'>New Users / History</span></div>
+    <div class='page_header'><span  class='title'>New Users / History</span></div>
     <div class='center_piece'>
     <div style='background-color: #c8e2ff; margin: 10px 20px; padding:15px; border: 1px solid #000000;' >
         Welcome to Sodastock! I sell both soda and snacks, available for everyone that works at RSA. Rick S. supplied the soda and then left the company in 2014. I took over several months later with selling the soda. Mike P. supplied the snacks and then passed the duty over to me in 2018. How it originally worked was people would drop money into the mugs in the cabinet or above the fridge and they would take what they want. I had been building this website for my own personal use to keep track of the inventory. It started as a Google Sheet, then became a very rough php project on my work computer, and has evolved into an entire purchasing and inventory system hosted on Vultr (so there is no downtime and it can be accessed outside of RSA when I am restocking items at the store). The massive revamp of the site happened in March 2018 when some co-ops said it would be easier for them if they could buy through the website and a tab would be kept for them. So I opened the site to all users and built a way for people to purchase through the website.
     </div>
     </div>
 
-    <div class='rounded_header'><span  class='title'>How Does it Work?</span></div>
+    <div class='page_header'><span  class='title'>How Does it Work?</span></div>
     <div class='center_piece'>
     <div style='background-color: #c8e2ff; margin: 10px 20px; padding:15px; border: 1px solid #000000;' >
             <ol>
@@ -29,14 +29,14 @@
     </div>
     </div>
 
-    <div class='rounded_header'><span  class='title'>Why Do This?</span></div>
+    <div class='page_header'><span  class='title'>Why Do This?</span></div>
     <div class='center_piece'>
         <div style='background-color: #c8e2ff; margin: 10px 20px; padding:15px; border: 1px solid #000000;' >
             Many people don't like to carry cash on them so this offers an alternative that is easier to them. Almost everyone appears to have some way to pay online whether it be Venmo, PayPal, or any other cash app so paying off a balance is as easy as a click of a button. It benefits me because as you use the site you are updating the inventory of the items yourself so there is less work for me. And because of that I'll know when things are sold out faster than if I manually counted everything myself. As an incentive to use the site you'll notice that <b>there are cheaper prices if you buy through the site.</b>
         </div>
     </div>
 
-    <div class='rounded_header'><span  class='title'>Pages</span></div>
+    <div class='page_header'><span  class='title'>Pages</span></div>
     <div class='center_piece'>
         <div style='background-color: #c8e2ff; margin: 10px 20px; padding:15px; border: 1px solid #000000;' >
             Let's go through the various pages at the top of the page:<br>
@@ -78,14 +78,14 @@
         </div>
     </div>
 
-    <div class='rounded_header'><span  class='title'>Cash-Only</span></div>
+    <div class='page_header'><span  class='title'>Cash-Only</span></div>
     <div class='center_piece'>
         <div style='background-color: #c8e2ff; margin: 10px 20px; padding:15px; border: 1px solid #000000;' >
             One co-op said they wanted to still pay with change in the mug but they wanted to keep track through the site and still get the discounted price. The cash-only checkbox in the cart does just this. You check the box if you already dropped money in the mug and it will add it to your purchase history, decrement the quantity, but NOT add it to your balance.
         </div>
     </div>
 
-    <div class='rounded_header'><span  class='title'>5 Minute Reminder</span></div>
+    <div class='page_header'><span  class='title'>5 Minute Reminder</span></div>
     <div class='center_piece'>
         <div style='background-color: #c8e2ff; margin: 10px 20px; padding:15px; border: 1px solid #000000;' >
             I have been losing money for a while and it might be because people are taking items but forgetting to buy it from the site afterwards. A lot can happen between grabbing something and getting back to your desk so it's understandable. I built in a pop-up message that appears after five minutes of being idle on the site without buying anything to help remind you to purchase your item. Now you can open the site, grab the item, and if you get back to your desk after five minutes there will be a reminder waiting for you.
diff --git a/packServer.bat b/packServer.bat
index 523f274..09debc4 100644
--- a/packServer.bat
+++ b/packServer.bat
@@ -1,2 +1,2 @@
 del "D:\Apache Software Foundation\Apache2.4\blue_space\foodstock_beta\packed_server.zip"
-"C:\Program Files\7-Zip\7z.exe" a -tzip "D:\Apache Software Foundation\Apache2.4\blue_space\foodstock_beta\packed_server.zip" "D:\Apache Software Foundation\Apache2.4\blue_space\foodstock_beta\*" -mx0 -xr!.git -xr!.idea -xr!test_db -xr!preview_images -xr!legacy -xr!packed_server.zip
\ No newline at end of file
+"C:\Program Files\7-Zip\7z.exe" a -tzip "D:\Apache Software Foundation\Apache2.4\blue_space\foodstock_beta\packed_server.zip" "D:\Apache Software Foundation\Apache2.4\blue_space\foodstock_beta\*" -mx0 -xr!.git -xr!.idea -xr!test_db -xr!preview_images -xr!legacy -xr!lunch -xr!packed_server.zip
\ No newline at end of file
diff --git a/packed_server.zip b/packed_server.zip
index bdb8c59..a5edcc1 100644
Binary files a/packed_server.zip and b/packed_server.zip differ
diff --git a/preferences.php b/preferences.php
index c1cf5f4..fd610de 100644
--- a/preferences.php
+++ b/preferences.php
@@ -21,54 +21,54 @@
     $showShelf = $row['ShowShelf'] == 1 ? "checked" : "";
     $anonAnimal = $row['AnonName'];
 
-    echo "<div class='rounded_header'><span  class='title'>User Preferences</span></div>";
-    echo "<form id='preferences_form' id='edit_user_form' class='fancy' enctype='multipart/form-data' action='" . HANDLE_FORMS_LINK . "' method='POST'>";
-    echo "<fieldset style='padding:0px 20px 20px 20px; font-size:1.2em; color:#000; border:3px solid #a0b113; background-color:#fffac0;'>";
+    echo "<div class='page_header'><span  class='title'>User Preferences</span></div>";
+    echo "<form id='preferences_form' id='edit_user_form' class='inline_form' enctype='multipart/form-data' action='" . HANDLE_FORMS_LINK . "' method='POST'>";
+    echo "<fieldset>";
 
     echo "<label for='SlackID'>Anonymous Animal</label>";
     echo "<input type='text' style='margin-bottom:5px;' value='$anonAnimal' id='Preferences_AnonAnimal' name='Preferences_AnonAnimal' class='text ui-widget-content ui-corner-all'/>";
-    echo "<div style='font-size:0.9em; color:#3e3f3d; line-height:15px; margin-bottom:20px;'>This is the name you appear as to other people in the graphs to keep anonymity. Should I let you be able to change this? Will you abuse it? Nah...</div>";
+    echo "<div class='helptext'>This is the name you appear as to other people in the graphs to keep anonymity. Should I let you be able to change this? Will you abuse it? Nah...</div>";
 
     echo "<div style='padding:5px 0px;'>";
     echo "<input style='display:inline;' $showItemStatsChecked type='checkbox' id='Preferences_ShowItemStats' name='Preferences_ShowItemStats'/>";
     echo "<label style='display:inline;' for='Preferences_ShowItemStats'>Show Item Statistics</label>";
-    echo "<div style='font-size:0.9em; color:#3e3f3d; line-height:15px; margin-bottom:20px;'>Show the statistic boxes below each item on Soda Home and Snack Home pages - your purchase count, the average number of days for restock (popularity), and the total sold.</div>";
+    echo "<div class='helptext'>Show the statistic boxes below each item on Soda Home and Snack Home pages - your purchase count, the average number of days for restock (popularity), and the total sold.</div>";
     echo "</div>";
 
     echo "<div style='padding:5px 0px;'>";
     echo "<input style='display:inline;' $showDiscontinuedChecked type='checkbox' id='Preferences_ShowDiscontinued' name='Preferences_ShowDiscontinued'/>";
     echo "<label style='display:inline;' for='Preferences_ShowDiscontinued'>Show Discontinued Items</label>";
-    echo "<div style='font-size:0.9em; color:#3e3f3d; line-height:15px; margin-bottom:20px;'>Show the discontinued items in the list on the Soda Home and Snack Home pages.</div>";
+    echo "<div class='helptext'>Show the discontinued items in the list on the Soda Home and Snack Home pages.</div>";
     echo "</div>";
 
     echo "<div style='padding:5px 0px;'>";
     echo "<input style='display:inline;' $showCashOnlyChecked type='checkbox' id='Preferences_ShowCashOnly' name='Preferences_ShowCashOnly'/>";
     echo "<label style='display:inline;' for='Preferences_ShowCashOnly'>Show Cash-Only Option</label>";
-    echo "<div style='font-size:0.9em; color:#3e3f3d; line-height:15px; margin-bottom:20px;'>Show the cash-only option in the cart.</div>";
+    echo "<div class='helptext'>Show the cash-only option in the cart.</div>";
     echo "</div>";
 
     echo "<div style='padding:5px 0px;'>";
     echo "<input style='display:inline;' $showCreditChecked type='checkbox' id='Preferences_ShowCredit' name='Preferences_ShowCredit'/>";
     echo "<label style='display:inline;' for='Preferences_ShowCredit'>Show Credit</label>";
-    echo "<div style='font-size:0.9em; color:#3e3f3d; line-height:15px; margin-bottom:20px;'>Show the yellow Credit box in the navigation bar. If you have credits this setting is ignored and it's shown anyway.</div>";
+    echo "<div class='helptext'>Show the yellow Credit box in the navigation bar. If you have credits this setting is ignored and it's shown anyway.</div>";
     echo "</div>";
 
     echo "<div style='padding:5px 0px;'>";
     echo "<input style='display:inline;' $showShelf type='checkbox' id='Preferences_ShowShelf' name='Preferences_ShowShelf'/>";
     echo "<label style='display:inline;' for='Preferences_ShowShelf'>Show Shelf</label>";
-    echo "<div style='font-size:0.9em; color:#3e3f3d; line-height:15px; margin-bottom:20px;'>Show the shelf (at the top of the Soda Home page) that displays a quick view of what is currently in the freezer. Each image can be clicked and add one to your cart.</div>";
+    echo "<div class='helptext'>Show the shelf (at the top of the Soda Home page) that displays a quick view of what is currently in the freezer. Each image can be clicked and add one to your cart.</div>";
     echo "</div>";
 
     echo "<div style='padding:5px 0px;'>";
     echo "<input style='display:inline;' $subscribeRestocksChecked type='checkbox' id='Preferences_SubscribeRestocks' name='Preferences_SubscribeRestocks'/>";
     echo "<label style='display:inline;' for='Preferences_SubscribeRestocks'>Subscribe to Restocks</label>";
-    echo "<div style='font-size:0.9em; color:#3e3f3d; line-height:15px; margin-bottom:20px;'>Have restock information sent to you via FoodstockBot. The same message that would appear in the #random channel.</div>";
+    echo "<div class='helptext'>Have restock information sent to you via FoodstockBot. The same message that would appear in the #random channel.</div>";
     echo "</div>";
 
     echo "<div style='padding:5px 0px;'>";
     echo "<input style='display:inline;' $showTrendingChecked type='checkbox' id='Preferences_ShowTrending' name='Preferences_ShowTrending'/>";
     echo "<label style='display:inline;' for='Preferences_ShowTrending'>Show Trending</label>";
-    echo "<div style='font-size:0.9em; color:#3e3f3d; line-height:15px; margin-bottom:20px;'>Show the green trending box at the top of the item list page. This box will tell you which items are selling the most for the current day.</div>";
+    echo "<div class='helptext'>Show the green trending box at the top of the item list page. This box will tell you which items are selling the most for the current day.</div>";
     echo "</div>";
 
     echo "<input type='hidden' name='Preferences' value='Preferences'/><br>";
@@ -76,7 +76,7 @@
 
 
     $disabledButton = IsInactive() ? " disabled " : "";
-    echo "<input class='ui-button' $disabledButton style='padding:10px; text-align:center; width:100%;' type='submit' name='Save_Preferences' value='Save Preferences'/><br>";
+    echo "<input class='button' $disabledButton type='submit' name='Save_Preferences' value='Save Preferences'/><br>";
 
     echo "</fieldset>";
     echo "</form>";
diff --git a/register.php b/register.php
index 29ea9c7..c2f49cb 100644
--- a/register.php
+++ b/register.php
@@ -17,19 +17,19 @@
             echo "<div style='text-align:center; padding:20px; font-size:1.2em; color:#FFF; border:3px solid #1dc73a; background-color:#2cde5b;'><span>$userMessage</span></div>";
         }
         
-        echo "<div style='margin: 0 auto;' class='fancy'>";
+        echo "<div style='margin: 0 auto;' class='inline_form'>";
         echo "<form style='width:400px; margin: 0 auto;' id='add_item_form' enctype='multipart/form-data' action='" . HANDLE_FORMS_LINK . "' method='POST'>";
         
-        echo "<fieldset style='padding:0px 20px 20px 20px; font-size:1.2em; color:#FFF; border:3px solid #1d6cc7; background-color:#2c7ede;'>";
+        echo "<fieldset>";
         echo "<h1 style='text-align:center;'>Create an Account</h1>";
         
         echo "<label for='UserName'>User Name*</label>";
         echo "<input style='width:100%;' class='text ui-widget-content ui-corner-all' type='text' autocorrect='off' autocapitalize='off' maxlength='15'; name='UserName'>";
-        echo "<div style='font-size:0.9em; color:#e9ef00; line-height:15px; margin-bottom:20px;'>If you are a co-op <u>do not use your co-op account</u>, like 'qacoop2'. You will not be sharing balances with other future co-ops. Create an account with your name, like 'mmiles'.</div>";
+        echo "<div class='helptext'>If you are a co-op <u>do not use your co-op account</u>, like 'qacoop2'. You will not be sharing balances with other future co-ops. Create an account with your name, like 'mmiles'.</div>";
         
         echo "<label for='Password'>Password*</label>";
         echo "<input style='width:100%;' class='text ui-widget-content ui-corner-all' type='password' autocorrect='off' autocapitalize='off' maxlength='40'; name='Password'>";
-        echo "<div style='font-size:0.9em; color:#e9ef00; line-height:15px; margin-bottom:20px;'>Passwords are NOT stored in plain-text in the database. They are encrypted on account creation (so even I don't know them).</div>";
+        echo "<div class='helptext'>Passwords are NOT stored in plain-text in the database. They are encrypted on account creation (so even I don't know them).</div>";
         
         echo "<label for='PasswordAgain'>Confirm Password*</label>";
         echo "<input style='width:100%;' class='text ui-widget-content ui-corner-all' type='password' autocorrect='off' autocapitalize='off' maxlength='40'; name='PasswordAgain'>";
@@ -42,13 +42,13 @@
 
         echo "<label for='PhoneNumber'>Phone Number</label>";
         echo "<input style='width:100%;' class='text ui-widget-content ui-corner-all' type='text' autocorrect='off' autocapitalize='off' maxlength='20' name='PhoneNumber'>";
-        echo "<span style='font-size:0.9em; color:#e9ef00; line-height:15px;'>If you are a co-op and you leave RSA without paying off your balance it would be nice if I could contact you. :p</span>";
+        echo "<span class='helptext'>If you are a co-op and you leave RSA without paying off your balance it would be nice if I could contact you.</span>";
 
         echo "<input type='hidden' name='redirectURL' value='" . REGISTER_LINK . "'/>";
 
         echo "<input type='hidden' name='RegisterUser' value='RegisterUser'/>";
         
-        echo "<input class='ui-button' style='padding:10px; text-align:center; width:100%; margin: 40px 0px 0px 0px' type='submit' name='Register_User' value='Register'/><br>";
+        echo "<input class='button' type='submit' name='Register_User' value='Register'/><br>";
 
         echo "</fieldset>";
         echo "</form>";
diff --git a/requests.php b/requests.php
index 319a849..9016c49 100644
--- a/requests.php
+++ b/requests.php
@@ -3,6 +3,7 @@
     
     $url = REQUESTS_LINK;
     include( HEADER_PATH );
+    include_once( HOLIDAY_FUNCTIONS_PATH );
 //    include_once( LOG_FUNCTIONS_PATH );
 ?>
 
@@ -57,7 +58,7 @@
 
         echo "<li>";
         echo "<label for='ItemName_Request'>Details</label>";
-        echo "<input style='width:350px;' type='text' name='ItemName_Request' class='text ui-widget-content ui-corner-all'/>";
+        echo "<textarea cols='50' rows='5' name='ItemName_Request'></textarea>";
         echo "<span>The bug details</span>";
         echo "</li>";
 
@@ -91,7 +92,7 @@
 
         echo "<li>";
         echo "<label for='ItemName_Request'>Details</label>";
-        echo "<input style='width:350px;' type='text' name='ItemName_Request' class='text ui-widget-content ui-corner-all'/>";
+        echo "<textarea cols='50' rows='5' name='ItemName_Request'></textarea>";
         echo "<span>The feature details</span>";
         echo "</li>";
 
@@ -136,7 +137,7 @@
 
         echo "<li>";
         echo "<label for='Note_Request'>Notes</label>";
-        echo "<input style='width:350px;' type='text' name='Note_Request'/>";
+        echo "<textarea cols='50' rows='2' name='Note_Request'></textarea>";
         echo "<span>Additional notes about the item</span>";
         echo "</li>";
 
@@ -162,16 +163,16 @@
         // ------------------------------------
         // REQUESTS TABLE
         // ------------------------------------
-        echo "<div class='rounded_header'><span id='$title' class='title'>$title</span>";
+        echo "<div class='page_header'><span id='$title' class='title'>$title</span>";
 
         if( IsLoggedIn() && !IsInactive() ) {
             echo "<span style='float:right; padding-right: 15px;'>";
             if ($title == "Requests") {
-                echo "<button style='padding:5px; background:#b6b2e8;' id='request_item_button' class='item_button ui-button ui-widget-content ui-corner-all'>Request Snack or Soda</button>";
+                echo "<button style='padding:5px; background:#b6b2e8;' id='request_item_button' class='ui-button ui-widget-content ui-corner-all'>Request Snack or Soda</button>";
             } else if ($title == "Feature Requests") {
-                echo "<button style='padding:5px; background:#b6b2e8;' id='request_feature_button' class='item_button ui-button ui-widget-content ui-corner-all'>Request Feature</button>";
+                echo "<button style='padding:5px; background:#b6b2e8;' id='request_feature_button' class='ui-button ui-widget-content ui-corner-all'>Request Feature</button>";
             } else {
-                echo "<button style='padding:5px; background:#b6b2e8;' id='report_bug_button' class='item_button ui-button ui-widget-content ui-corner-all'>Report Bug</button>";
+                echo "<button style='padding:5px; background:#b6b2e8;' id='report_bug_button' class='ui-button ui-widget-content ui-corner-all'>Report Bug</button>";
             }
 
             echo "</span>";
@@ -281,7 +282,7 @@
             
             echo "</td>";
             
-            echo "<td style='width:$column3Width%;'>" . strip_tags( $row['ItemName'] ) . "</td>";
+            echo "<td style='width:$column3Width%;'>" . getHolidayRequestItemName( strip_tags( $row['ItemName'] ) ) . "</td>";
             
             if( $title == "Requests" ) {
                 echo "<td class='hidden_mobile_column' style='width:$column4Width%;'>" . strip_tags ($row['ItemType'] ) . "</td>";
diff --git a/stats.php b/stats.php
index efec853..80a8b8a 100644
--- a/stats.php
+++ b/stats.php
@@ -29,7 +29,7 @@
     }
 
     $itemNamesToShow = "";
-    $db = new SQLite3( getDB() );
+    $db = getDB();
 
     $statQuery = "SELECT Name FROM Item WHERE ID in " . getPrepareStatementForInClause( count( $itemsToShow ) ) . " Order BY Type DESC, NAME ASC";
     $statStatment = $db->prepare( $statQuery );
diff --git a/test_db/item.db b/test_db/item.db
index ef771d1..7eaf7d7 100644
Binary files a/test_db/item.db and b/test_db/item.db differ
